import{o as Qn,r as ee,a as ea,j as m,u as pt,b as R,i as St,c as rt,d as Jr,g as ta,F as ra,e as Qr,f as na,S as aa,R as oa,h as ia}from"./axios.js";var ft={},ar={},sa={get exports(){return ar},set exports(e){ar=e}};/** @license React v16.14.0
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ce=Qn,ze=ee;function Z(e){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+e,t=1;t<arguments.length;t++)r+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ve=typeof Symbol=="function"&&Symbol.for,en=ve?Symbol.for("react.portal"):60106,or=ve?Symbol.for("react.fragment"):60107,tn=ve?Symbol.for("react.strict_mode"):60108,rn=ve?Symbol.for("react.profiler"):60114,ir=ve?Symbol.for("react.provider"):60109,nn=ve?Symbol.for("react.context"):60110,la=ve?Symbol.for("react.concurrent_mode"):60111,an=ve?Symbol.for("react.forward_ref"):60112,sr=ve?Symbol.for("react.suspense"):60113,on=ve?Symbol.for("react.suspense_list"):60120,sn=ve?Symbol.for("react.memo"):60115,ln=ve?Symbol.for("react.lazy"):60116,ca=ve?Symbol.for("react.block"):60121,ua=ve?Symbol.for("react.fundamental"):60117,pa=ve?Symbol.for("react.scope"):60119;function fa(e){if(e._status===-1){e._status=0;var r=e._ctor;r=r(),e._result=r,r.then(function(t){e._status===0&&(t=t.default,e._status=1,e._result=t)},function(t){e._status===0&&(e._status=2,e._result=t)})}}function lt(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case or:return"Fragment";case en:return"Portal";case rn:return"Profiler";case tn:return"StrictMode";case sr:return"Suspense";case on:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case nn:return"Context.Consumer";case ir:return"Context.Provider";case an:var r=e.render;return r=r.displayName||r.name||"",e.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case sn:return lt(e.type);case ca:return lt(e.render);case ln:if(e=e._status===1?e._result:null)return lt(e)}return null}var dt=ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;dt.hasOwnProperty("ReactCurrentDispatcher")||(dt.ReactCurrentDispatcher={current:null});dt.hasOwnProperty("ReactCurrentBatchConfig")||(dt.ReactCurrentBatchConfig={suspense:null});var cn={};function mt(e,r){for(var t=e._threadCount|0;t<=r;t++)e[t]=e._currentValue2,e._threadCount=t+1}function da(e,r,t,a){if(a&&(a=e.contextType,typeof a=="object"&&a!==null))return mt(a,t),a[t];if(e=e.contextTypes){t={};for(var l in e)t[l]=r[l];r=t}else r=cn;return r}for(var fe=new Uint16Array(16),xt=0;15>xt;xt++)fe[xt]=xt+1;fe[15]=0;var ma=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jr=Object.prototype.hasOwnProperty,Br={},$r={};function un(e){return jr.call($r,e)?!0:jr.call(Br,e)?!1:ma.test(e)?$r[e]=!0:(Br[e]=!0,!1)}function ha(e,r,t,a){if(t!==null&&t.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return a?!1:t!==null?!t.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function va(e,r,t,a){if(r===null||typeof r>"u"||ha(e,r,t,a))return!0;if(a)return!1;if(t!==null)switch(t.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function ge(e,r,t,a,l,i){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=a,this.attributeNamespace=l,this.mustUseProperty=t,this.propertyName=e,this.type=r,this.sanitizeURL=i}var ce={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ce[e]=new ge(e,0,!1,e,null,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var r=e[0];ce[r]=new ge(r,1,!1,e[1],null,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ce[e]=new ge(e,2,!1,e.toLowerCase(),null,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ce[e]=new ge(e,2,!1,e,null,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ce[e]=new ge(e,3,!1,e.toLowerCase(),null,!1)});["checked","multiple","muted","selected"].forEach(function(e){ce[e]=new ge(e,3,!0,e,null,!1)});["capture","download"].forEach(function(e){ce[e]=new ge(e,4,!1,e,null,!1)});["cols","rows","size","span"].forEach(function(e){ce[e]=new ge(e,6,!1,e,null,!1)});["rowSpan","start"].forEach(function(e){ce[e]=new ge(e,5,!1,e.toLowerCase(),null,!1)});var mr=/[\-:]([a-z])/g;function hr(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var r=e.replace(mr,hr);ce[r]=new ge(r,1,!1,e,null,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var r=e.replace(mr,hr);ce[r]=new ge(r,1,!1,e,"http://www.w3.org/1999/xlink",!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var r=e.replace(mr,hr);ce[r]=new ge(r,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)});["tabIndex","crossOrigin"].forEach(function(e){ce[e]=new ge(e,1,!1,e.toLowerCase(),null,!1)});ce.xlinkHref=new ge("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0);["src","href","action","formAction"].forEach(function(e){ce[e]=new ge(e,1,!1,e.toLowerCase(),null,!0)});var ga=/["'&<>]/;function Ve(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var r=ga.exec(e);if(r){var t="",a,l=0;for(a=r.index;a<e.length;a++){switch(e.charCodeAt(a)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 39:r="&#x27;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}l!==a&&(t+=e.substring(l,a)),l=a+1,t+=r}e=l!==a?t+e.substring(l,a):t}return e}function ya(e,r){var t=ce.hasOwnProperty(e)?ce[e]:null,a;return(a=e!=="style")&&(a=t!==null?t.type===0:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")),a||va(e,r,t,!1)?"":t!==null?(e=t.attributeName,a=t.type,a===3||a===4&&r===!0?e+'=""':(t.sanitizeURL&&(r=""+r),e+'="'+(Ve(r)+'"'))):un(e)?e+'="'+(Ve(r)+'"'):""}function ba(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var _a=typeof Object.is=="function"?Object.is:ba,Oe=null,Ct=null,V=null,it=!1,lr=!1,je=null,Tt=0;function tt(){if(Oe===null)throw Error(Z(321));return Oe}function Wr(){if(0<Tt)throw Error(Z(312));return{memoizedState:null,queue:null,next:null}}function cr(){return V===null?Ct===null?(it=!1,Ct=V=Wr()):(it=!0,V=Ct):V.next===null?(it=!1,V=V.next=Wr()):(it=!0,V=V.next),V}function pn(e,r,t,a){for(;lr;)lr=!1,Tt+=1,V=null,t=e(r,a);return Ct=Oe=null,Tt=0,V=je=null,t}function fn(e,r){return typeof r=="function"?r(e):r}function qr(e,r,t){if(Oe=tt(),V=cr(),it){var a=V.queue;if(r=a.dispatch,je!==null&&(t=je.get(a),t!==void 0)){je.delete(a),a=V.memoizedState;do a=e(a,t.action),t=t.next;while(t!==null);return V.memoizedState=a,[a,r]}return[V.memoizedState,r]}return e=e===fn?typeof r=="function"?r():r:t!==void 0?t(r):r,V.memoizedState=e,e=V.queue={last:null,dispatch:null},e=e.dispatch=wa.bind(null,Oe,e),[V.memoizedState,e]}function wa(e,r,t){if(!(25>Tt))throw Error(Z(301));if(e===Oe)if(lr=!0,e={action:t,next:null},je===null&&(je=new Map),t=je.get(r),t===void 0)je.set(r,e);else{for(r=t;r.next!==null;)r=r.next;r.next=e}}function Qt(){}var ct=0,Ea={readContext:function(e){var r=ct;return mt(e,r),e[r]},useContext:function(e){tt();var r=ct;return mt(e,r),e[r]},useMemo:function(e,r){if(Oe=tt(),V=cr(),r=r===void 0?null:r,V!==null){var t=V.memoizedState;if(t!==null&&r!==null){e:{var a=t[1];if(a===null)a=!1;else{for(var l=0;l<a.length&&l<r.length;l++)if(!_a(r[l],a[l])){a=!1;break e}a=!0}}if(a)return t[0]}}return e=e(),V.memoizedState=[e,r],e},useReducer:qr,useRef:function(e){Oe=tt(),V=cr();var r=V.memoizedState;return r===null?(e={current:e},V.memoizedState=e):r},useState:function(e){return qr(fn,e)},useLayoutEffect:function(){},useCallback:function(e){return e},useImperativeHandle:Qt,useEffect:Qt,useDebugValue:Qt,useResponder:function(e,r){return{props:r,responder:e}},useDeferredValue:function(e){return tt(),e},useTransition:function(){return tt(),[function(e){e()},!1]}},Na={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function xa(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}var dn={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},Sa=Ce({menuitem:!0},dn),ut={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ca=["Webkit","ms","Moz","O"];Object.keys(ut).forEach(function(e){Ca.forEach(function(r){r=r+e.charAt(0).toUpperCase()+e.substring(1),ut[r]=ut[e]})});var Ta=/([A-Z])/g,ka=/^ms-/,He=ze.Children.toArray,er=dt.ReactCurrentDispatcher,Aa={listing:!0,pre:!0,textarea:!0},La=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,Gr={},tr={};function Ra(e){if(e==null)return e;var r="";return ze.Children.forEach(e,function(t){t!=null&&(r+=t)}),r}var Oa=Object.prototype.hasOwnProperty,Pa={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null,suppressHydrationWarning:null};function Vr(e,r){if(e===void 0)throw Error(Z(152,lt(r)||"Component"))}function Da(e,r,t){function a(u,s){var o=s.prototype&&s.prototype.isReactComponent,y=da(s,r,t,o),c=[],E=!1,w={isMounted:function(){return!1},enqueueForceUpdate:function(){if(c===null)return null},enqueueReplaceState:function(S,$){E=!0,c=[$]},enqueueSetState:function(S,$){if(c===null)return null;c.push($)}};if(o){if(o=new s(u.props,y,w),typeof s.getDerivedStateFromProps=="function"){var A=s.getDerivedStateFromProps.call(null,u.props,o.state);A!=null&&(o.state=Ce({},o.state,A))}}else if(Oe={},o=s(u.props,y,w),o=pn(s,u.props,o,y),o==null||o.render==null){e=o,Vr(e,s);return}if(o.props=u.props,o.context=y,o.updater=w,w=o.state,w===void 0&&(o.state=w=null),typeof o.UNSAFE_componentWillMount=="function"||typeof o.componentWillMount=="function")if(typeof o.componentWillMount=="function"&&typeof s.getDerivedStateFromProps!="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&typeof s.getDerivedStateFromProps!="function"&&o.UNSAFE_componentWillMount(),c.length){w=c;var F=E;if(c=null,E=!1,F&&w.length===1)o.state=w[0];else{A=F?w[0]:o.state;var W=!0;for(F=F?1:0;F<w.length;F++){var G=w[F];G=typeof G=="function"?G.call(o,A,u.props,y):G,G!=null&&(W?(W=!1,A=Ce({},A,G)):Ce(A,G))}o.state=A}}else c=null;if(e=o.render(),Vr(e,s),typeof o.getChildContext=="function"&&(u=s.childContextTypes,typeof u=="object")){var O=o.getChildContext();for(var L in O)if(!(L in u))throw Error(Z(108,lt(s)||"Unknown",L))}O&&(r=Ce({},r,O))}for(;ze.isValidElement(e);){var l=e,i=l.type;if(typeof i!="function")break;a(l,i)}return{child:e,context:r}}var Yr=function(){function e(t,a){ze.isValidElement(t)?t.type!==or?t=[t]:(t=t.props.children,t=ze.isValidElement(t)?[t]:He(t)):t=He(t),t={type:null,domNamespace:Na.html,children:t,childIndex:0,context:cn,footer:""};var l=fe[0];if(l===0){var i=fe;l=i.length;var u=2*l;if(!(65536>=u))throw Error(Z(304));var s=new Uint16Array(u);for(s.set(i),fe=s,fe[0]=l+1,i=l;i<u-1;i++)fe[i]=i+1;fe[u-1]=0}else fe[0]=fe[l];this.threadID=l,this.stack=[t],this.exhausted=!1,this.currentSelectValue=null,this.previousWasTextNode=!1,this.makeStaticMarkup=a,this.suspenseDepth=0,this.contextIndex=-1,this.contextStack=[],this.contextValueStack=[]}var r=e.prototype;return r.destroy=function(){if(!this.exhausted){this.exhausted=!0,this.clearProviders();var t=this.threadID;fe[t]=fe[0],fe[0]=t}},r.pushProvider=function(t){var a=++this.contextIndex,l=t.type._context,i=this.threadID;mt(l,i);var u=l[i];this.contextStack[a]=l,this.contextValueStack[a]=u,l[i]=t.props.value},r.popProvider=function(){var t=this.contextIndex,a=this.contextStack[t],l=this.contextValueStack[t];this.contextStack[t]=null,this.contextValueStack[t]=null,this.contextIndex--,a[this.threadID]=l},r.clearProviders=function(){for(var t=this.contextIndex;0<=t;t--)this.contextStack[t][this.threadID]=this.contextValueStack[t]},r.read=function(t){if(this.exhausted)return null;var a=ct;ct=this.threadID;var l=er.current;er.current=Ea;try{for(var i=[""],u=!1;i[0].length<t;){if(this.stack.length===0){this.exhausted=!0;var s=this.threadID;fe[s]=fe[0],fe[0]=s;break}var o=this.stack[this.stack.length-1];if(u||o.childIndex>=o.children.length){var y=o.footer;if(y!==""&&(this.previousWasTextNode=!1),this.stack.pop(),o.type==="select")this.currentSelectValue=null;else if(o.type!=null&&o.type.type!=null&&o.type.type.$$typeof===ir)this.popProvider(o.type);else if(o.type===sr){this.suspenseDepth--;var c=i.pop();if(u){u=!1;var E=o.fallbackFrame;if(!E)throw Error(Z(303));this.stack.push(E),i[this.suspenseDepth]+="<!--$!-->";continue}else i[this.suspenseDepth]+=c}i[this.suspenseDepth]+=y}else{var w=o.children[o.childIndex++],A="";try{A+=this.render(w,o.context,o.domNamespace)}catch(F){throw F!=null&&typeof F.then=="function"?Error(Z(294)):F}finally{}i.length<=this.suspenseDepth&&i.push(""),i[this.suspenseDepth]+=A}}return i[0]}finally{er.current=l,ct=a}},r.render=function(t,a,l){if(typeof t=="string"||typeof t=="number")return l=""+t,l===""?"":this.makeStaticMarkup?Ve(l):this.previousWasTextNode?"<!-- -->"+Ve(l):(this.previousWasTextNode=!0,Ve(l));if(a=Da(t,a,this.threadID),t=a.child,a=a.context,t===null||t===!1)return"";if(!ze.isValidElement(t)){if(t!=null&&t.$$typeof!=null)throw l=t.$$typeof,Error(l===en?Z(257):Z(258,l.toString()));return t=He(t),this.stack.push({type:null,domNamespace:l,children:t,childIndex:0,context:a,footer:""}),""}var i=t.type;if(typeof i=="string")return this.renderDOM(t,a,l);switch(i){case tn:case la:case rn:case on:case or:return t=He(t.props.children),this.stack.push({type:null,domNamespace:l,children:t,childIndex:0,context:a,footer:""}),"";case sr:throw Error(Z(294))}if(typeof i=="object"&&i!==null)switch(i.$$typeof){case an:Oe={};var u=i.render(t.props,t.ref);return u=pn(i.render,t.props,u,t.ref),u=He(u),this.stack.push({type:null,domNamespace:l,children:u,childIndex:0,context:a,footer:""}),"";case sn:return t=[ze.createElement(i.type,Ce({ref:t.ref},t.props))],this.stack.push({type:null,domNamespace:l,children:t,childIndex:0,context:a,footer:""}),"";case ir:return i=He(t.props.children),l={type:t,domNamespace:l,children:i,childIndex:0,context:a,footer:""},this.pushProvider(t),this.stack.push(l),"";case nn:i=t.type,u=t.props;var s=this.threadID;return mt(i,s),i=He(u.children(i[s])),this.stack.push({type:t,domNamespace:l,children:i,childIndex:0,context:a,footer:""}),"";case ua:throw Error(Z(338));case ln:switch(i=t.type,fa(i),i._status){case 1:return t=[ze.createElement(i._result,Ce({ref:t.ref},t.props))],this.stack.push({type:null,domNamespace:l,children:t,childIndex:0,context:a,footer:""}),"";case 2:throw i._result;default:throw Error(Z(295))}case pa:throw Error(Z(343))}throw Error(Z(130,i==null?i:typeof i,""))},r.renderDOM=function(t,a,l){var i=t.type.toLowerCase();if(!Gr.hasOwnProperty(i)){if(!La.test(i))throw Error(Z(65,i));Gr[i]=!0}var u=t.props;if(i==="input")u=Ce({type:void 0},u,{defaultChecked:void 0,defaultValue:void 0,value:u.value!=null?u.value:u.defaultValue,checked:u.checked!=null?u.checked:u.defaultChecked});else if(i==="textarea"){var s=u.value;if(s==null){s=u.defaultValue;var o=u.children;if(o!=null){if(s!=null)throw Error(Z(92));if(Array.isArray(o)){if(!(1>=o.length))throw Error(Z(93));o=o[0]}s=""+o}s==null&&(s="")}u=Ce({},u,{value:void 0,children:""+s})}else if(i==="select")this.currentSelectValue=u.value!=null?u.value:u.defaultValue,u=Ce({},u,{value:void 0});else if(i==="option"){o=this.currentSelectValue;var y=Ra(u.children);if(o!=null){var c=u.value!=null?u.value+"":y;if(s=!1,Array.isArray(o)){for(var E=0;E<o.length;E++)if(""+o[E]===c){s=!0;break}}else s=""+o===c;u=Ce({selected:void 0,children:void 0},u,{selected:s,children:y})}}if(s=u){if(Sa[i]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(Z(137,i,""));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(Z(60));if(!(typeof s.dangerouslySetInnerHTML=="object"&&"__html"in s.dangerouslySetInnerHTML))throw Error(Z(61))}if(s.style!=null&&typeof s.style!="object")throw Error(Z(62,""))}s=u,o=this.makeStaticMarkup,y=this.stack.length===1,c="<"+t.type;for(S in s)if(Oa.call(s,S)){var w=s[S];if(w!=null){if(S==="style"){E=void 0;var A="",F="";for(E in w)if(w.hasOwnProperty(E)){var W=E.indexOf("--")===0,G=w[E];if(G!=null){if(W)var O=E;else if(O=E,tr.hasOwnProperty(O))O=tr[O];else{var L=O.replace(Ta,"-$1").toLowerCase().replace(ka,"-ms-");O=tr[O]=L}A+=F+O+":",F=E,W=G==null||typeof G=="boolean"||G===""?"":W||typeof G!="number"||G===0||ut.hasOwnProperty(F)&&ut[F]?(""+G).trim():G+"px",A+=W,F=";"}}w=A||null}E=null;e:if(W=i,G=s,W.indexOf("-")===-1)W=typeof G.is=="string";else switch(W){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":W=!1;break e;default:W=!0}W?Pa.hasOwnProperty(S)||(E=S,E=un(E)&&w!=null?E+'="'+(Ve(w)+'"'):""):E=ya(S,w),E&&(c+=" "+E)}}o||y&&(c+=' data-reactroot=""');var S=c;s="",dn.hasOwnProperty(i)?S+="/>":(S+=">",s="</"+t.type+">");e:{if(o=u.dangerouslySetInnerHTML,o!=null){if(o.__html!=null){o=o.__html;break e}}else if(o=u.children,typeof o=="string"||typeof o=="number"){o=Ve(o);break e}o=null}return o!=null?(u=[],Aa.hasOwnProperty(i)&&o.charAt(0)===`
`&&(S+=`
`),S+=o):u=He(u.children),t=t.type,l=l==null||l==="http://www.w3.org/1999/xhtml"?xa(t):l==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":l,this.stack.push({domNamespace:l,type:i,children:u,childIndex:0,context:a,footer:s}),this.previousWasTextNode=!1,S},e}(),Zr={renderToString:function(e){e=new Yr(e,!1);try{return e.read(1/0)}finally{e.destroy()}},renderToStaticMarkup:function(e){e=new Yr(e,!0);try{return e.read(1/0)}finally{e.destroy()}},renderToNodeStream:function(){throw Error(Z(207))},renderToStaticNodeStream:function(){throw Error(Z(208))},version:"16.14.0"},Ia=Zr.default||Zr;(function(e){e.exports=Ia})(sa);var kt={},Ma={get exports(){return kt},set exports(e){kt=e}};(function(e,r){Object.defineProperty(r,"__esModule",{value:!0});var t=function(){function L(S,$){var H=[],I=!0,z=!1,de=void 0;try{for(var X=S[Symbol.iterator](),Te;!(I=(Te=X.next()).done)&&(H.push(Te.value),!($&&H.length===$));I=!0);}catch(Be){z=!0,de=Be}finally{try{!I&&X.return&&X.return()}finally{if(z)throw de}}return H}return function(S,$){if(Array.isArray(S))return S;if(Symbol.iterator in Object(S))return L(S,$);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();r.default=O;function a(L,S,$){return S in L?Object.defineProperty(L,S,{value:$,enumerable:!0,configurable:!0,writable:!0}):L[S]=$,L}var l="<!--",i="-->",u=[["&","&amp;"],[">","&gt;"]],s="hypernova-key",o="hypernova-id";function y(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(L){return(L^Math.random()*16>>L/4).toString(16)})}function c(L){return u.reduce(function(S,$){var H=t($,2),I=H[0],z=H[1];return S.replace(new RegExp(I,"g"),z)},JSON.stringify(L))}function E(L){var S=u.reduceRight(function($,H){var I=t(H,2),z=I[0],de=I[1];return $.replace(new RegExp(de,"g"),z)},L);return JSON.parse(S)}function w(L,S){var $=L.toLowerCase().replace(/[^0-9a-z_-]/g,""),H=S.replace(/&/g,"&amp;").replace(/"/g,"&quot;");return"data-"+String($)+'="'+String(H)+'"'}function A(L,S){var $=Object.keys(L).map(function(H){return w(H,L[H])});return'<script type="application/json" '+String($.join(" "))+">"+l+String(c(S))+i+"<\/script>"}function F(L){var S=Object.keys(L).map(function(I){return"["+String(w(I,L[I]))+"]"}).join(""),$=document.querySelector("script"+String(S));if(!$)return null;var H=$.innerHTML;return E(H.slice(l.length,H.length-i.length))}function W(L,S,$){var H,I=L.replace(/\W/g,""),z=y(),de="<div data-"+s+'="'+String(I)+'" data-'+o+'="'+String(z)+'">'+String(S)+"</div>",X=A((H={},a(H,s,I),a(H,o,z),H),$);return de+`
`+String(X)}function G(L){var S=L.replace(/\W/g,""),$=document.querySelectorAll("div[data-"+s+'="'+String(S)+'"]');return Array.prototype.map.call($,function(H){var I,z=H.getAttribute("data-"+o),de=F((I={},a(I,s,S),a(I,o,z),I));return{node:H,data:de}})}function O(L){return typeof window>"u"?L.server():L.client()}O.toScript=A,O.fromScript=F,O.serialize=W,O.load=G,e.exports=r.default})(Ma,kt);var vr;Object.defineProperty(ft,"__esModule",{value:!0});ft.renderReactStatic=vr=ft.renderReact=void 0;var Fa=ee,ur=Lt(Fa),za=ea,rr=Lt(za),Ua=ar,mn=Lt(Ua),pr=kt,hn=Lt(pr);function Lt(e){return e&&e.__esModule?e:{default:e}}vr=ft.renderReact=function(r,t){return(0,hn.default)({server:function(){function a(){return function(l){var i=mn.default.renderToString(ur.default.createElement(t,l));return(0,pr.serialize)(r,i,l)}}return a}(),client:function(){function a(){var l=(0,pr.load)(r);return l&&l.forEach(function(i){var u=i.node,s=i.data,o=ur.default.createElement(t,s);rr.default.hydrate?rr.default.hydrate(o,u):rr.default.render(o,u)}),t}return a}()})};ft.renderReactStatic=function(r,t){return(0,hn.default)({server:function(){function a(){return function(l){return mn.default.renderToStaticMarkup(ur.default.createElement(t,l))}}return a}(),client:function(){function a(){}return a}()})};const nr=e=>r=>vr(e,r);var fr={},Ha={get exports(){return fr},set exports(e){fr=e}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var r={}.hasOwnProperty;function t(){for(var a=[],l=0;l<arguments.length;l++){var i=arguments[l];if(i){var u=typeof i;if(u==="string"||u==="number")a.push(i);else if(Array.isArray(i)){if(i.length){var s=t.apply(null,i);s&&a.push(s)}}else if(u==="object"){if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]")){a.push(i.toString());continue}for(var o in i)r.call(i,o)&&i[o]&&a.push(o)}}}return a.join(" ")}e.exports?(t.default=t,e.exports=t):window.classNames=t})()})(Ha);const st=fr,vn=e=>{const{card:r,title:t,items:a}=e,l=St()?location.pathname:"",i=Object.values(a).map(([E,w])=>m("li",{children:m("a",{href:E,className:l===E?"active":"",children:w})})),[u,s]=ee.useState(!1),o=ee.useRef(null),y=ee.useRef(null),c=()=>{window.scrollY>80?s(!0):s(!1)};return pt(()=>(window.addEventListener("scroll",c),()=>window.removeEventListener("scroll",c))),pt(()=>{const E=o.current,w=y.current,A=()=>{E.style.transform!=="translateX(0%)"?(E.style.transform="translateX(0%)",E.style.transition="transform 0.2s ease-out"):(E.style.transform="translateX(-100%)",E.style.transition="transform 0.2s ease-out"),w.className!=="menuIcon toggle"?w.className+=" toggle":w.className="menuIcon"};return w.addEventListener("click",A),()=>{w.removeEventListener("click",A)}},[]),R("div",{className:st("nav",{short:u}),children:[R("div",{className:"nav-wrapper",children:[R("div",{className:"nav-wrapper-left",children:[r?R("a",{className:st("nav-card",{show:!u}),href:r.url,children:[m("img",{className:"nav-card-target",src:r.icon&&"/media/"+r.icon||"/static/img/logo_blue.png"}),R("div",{className:"nav-card-title",children:[r.name,m("div",{className:"nav-card-subtitle",children:"去看看"})]}),"  "]}):m("a",{className:"logo",href:"/",children:m("img",{src:"/static/img/logo_blue.png",alt:"neogrp"})}),R("div",{className:st("title",{show:u}),onClick:()=>{window.scrollTo(0,0)},children:[r&&m("div",{className:st("up",{show:r})}),R("div",{className:"text",children:[t," "]})]})]}),m("ul",{id:"menu",children:i})]}),St()&&R("div",{className:"menuIcon",ref:y,children:[m("span",{className:"icon icon-bars"}),m("span",{className:"icon icon-bars overlay"})]}),St()&&m("div",{className:"overlay-menu",ref:o,children:m("ul",{id:"menu",children:i})})]})};function gn(e){const{last_join_users:r,operations:t}=e,a=r.map(l=>l.user);return R("div",{className:"sidebar",children:[m("span",{className:"sidebar-title",children:" 最近加入"}),m("div",{className:"latest-join",children:a?a.map(l=>R("a",{href:`/group/profile/${l.mastodon_username}/`,className:"account",children:[m("img",{src:l.mastodon_account.avatar,className:"account-avatar"}),m("div",{className:"account-name",children:l.mastodon_account.display_name})]})):"这里冷清清的"}),t?m("div",{className:"operations",children:t.map(l=>R("a",{className:"operation",href:l[0],children:[" ",l[1]," "]}))}):null]})}function ja(e){const{description:r,icon_url:t,name:a,absolute_url:l}=e;return R("div",{className:"group-card-simple",children:[m("a",{href:l,children:m("img",{className:"group-card-avatar",src:t&&"/media/"+t||"/static/img/logo_blue.png"})}),R("div",{className:"group-card-info",children:[m("div",{className:"group-card-name",children:a}),m("div",{className:"group-card-description p",children:r})]})]})}function Ba(e){const{user:r,title:t,updated_at:a,absolute_url:l,id:i,group:u,created_at:s}=e;return m("div",{className:"topic-card",children:R("div",{className:"topic-card-info",children:[m("a",{href:l,className:"topic-card-title",children:t}),R("span",{className:"topic-card-description",children:["(",r.mastodon_account.username," · ",a,")"]})]})})}function yn(e){const{group:r,last_topics:t}=e;return R("div",{className:"sidebar",children:[m("div",{className:"sidebar-group",children:m(ja,{...r})}),m("span",{className:"sidebar-title",children:"正在发生"}),m("div",{className:"sidebar-topics",children:t?t.map(a=>m(Ba,{...a})):"暂时无事发生，去看看别的组吧"})]})}function $a(e){const[r,t]=ee.useState(e.is_member),{created_at:a,description:l,icon_url:i,id:u,name:s,updated_at:o,user:y,absolute_url:c}=e;return R("div",{className:"group-card",children:[R("div",{className:"group-card-hd",children:[R("div",{className:"group-info",children:[m("a",{className:"group-avatar",href:c,children:m("img",{src:i&&"/media/"+i||"/static/img/logo_blue.png"})}),R("div",{className:"group-base",children:[m("div",{className:"group-name",children:s}),R("div",{className:"group-owner",children:[R("a",{href:y.mastodon_account.url,children:[" ",y.mastodon_account.display_name," "]}),m("br",{}),"创建于：",a.slice(0,10)]})]})]}),m("div",{className:"group-join-button button",onClick:async()=>{const E=r?"leave":"join";E=="leave"&&!window.confirm("确定要退出该小组吗？")||await rt.post(`/group/${u}/${E}`).then(w=>{w.data.r==0?t(!r):alert(w.data.msg||"出错了，请联系管理员")}).catch(w=>{w.response&&w.response.status===403&&alert("请先登录")})},children:r?"已加入":"加入"})]}),R("div",{className:"group-card-bd",children:[m("span",{children:"简介"}),m("div",{className:"group-description p",children:l})]})]})}var dr={},Wa={get exports(){return dr},set exports(e){dr=e}};(function(e,r){(function(t,a){e.exports=a(ee)})(Jr,t=>(()=>{var a={703:(s,o,y)=>{var c=y(414);function E(){}function w(){}w.resetWarningCache=E,s.exports=function(){function A(G,O,L,S,$,H){if(H!==c){var I=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw I.name="Invariant Violation",I}}function F(){return A}A.isRequired=A;var W={array:A,bigint:A,bool:A,func:A,number:A,object:A,string:A,symbol:A,any:A,arrayOf:F,element:A,elementType:A,instanceOf:F,node:A,objectOf:F,oneOf:F,oneOfType:F,shape:F,exact:F,checkPropTypes:w,resetWarningCache:E};return W.PropTypes=W,W}},697:(s,o,y)=>{s.exports=y(703)()},414:s=>{s.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},98:s=>{s.exports=t}},l={};function i(s){var o=l[s];if(o!==void 0)return o.exports;var y=l[s]={exports:{}};return a[s](y,y.exports,i),y.exports}i.n=s=>{var o=s&&s.__esModule?()=>s.default:()=>s;return i.d(o,{a:o}),o},i.d=(s,o)=>{for(var y in o)i.o(o,y)&&!i.o(s,y)&&Object.defineProperty(s,y,{enumerable:!0,get:o[y]})},i.o=(s,o)=>Object.prototype.hasOwnProperty.call(s,o),i.r=s=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})};var u={};return(()=>{i.r(u),i.d(u,{default:()=>Be});var s=i(98),o=i.n(s),y=i(697),c=i.n(y);function E(){return E=Object.assign?Object.assign.bind():function(N){for(var T=1;T<arguments.length;T++){var M=arguments[T];for(var U in M)Object.prototype.hasOwnProperty.call(M,U)&&(N[U]=M[U])}return N},E.apply(this,arguments)}var w=function(N){var T=N.pageClassName,M=N.pageLinkClassName,U=N.page,we=N.selected,Ue=N.activeClassName,K=N.activeLinkClassName,_=N.getEventListener,p=N.pageSelectedHandler,P=N.href,x=N.extraAriaContext,C=N.pageLabelBuilder,j=N.rel,b=N.ariaLabel||"Page "+U+(x?" "+x:""),J=null;return we&&(J="page",b=N.ariaLabel||"Page "+U+" is your current page",T=T!==void 0?T+" "+Ue:Ue,M!==void 0?K!==void 0&&(M=M+" "+K):M=K),o().createElement("li",{className:T},o().createElement("a",E({rel:j,role:P?void 0:"button",className:M,href:P,tabIndex:we?"-1":"0","aria-label":b,"aria-current":J,onKeyPress:p},_(p)),C(U)))};w.propTypes={pageSelectedHandler:c().func.isRequired,selected:c().bool.isRequired,pageClassName:c().string,pageLinkClassName:c().string,activeClassName:c().string,activeLinkClassName:c().string,extraAriaContext:c().string,href:c().string,ariaLabel:c().string,page:c().number.isRequired,getEventListener:c().func.isRequired,pageLabelBuilder:c().func.isRequired,rel:c().string};const A=w;function F(){return F=Object.assign?Object.assign.bind():function(N){for(var T=1;T<arguments.length;T++){var M=arguments[T];for(var U in M)Object.prototype.hasOwnProperty.call(M,U)&&(N[U]=M[U])}return N},F.apply(this,arguments)}var W=function(N){var T=N.breakLabel,M=N.breakClassName,U=N.breakLinkClassName,we=N.breakHandler,Ue=N.getEventListener,K=M||"break";return o().createElement("li",{className:K},o().createElement("a",F({className:U,role:"button",tabIndex:"0",onKeyPress:we},Ue(we)),T))};W.propTypes={breakLabel:c().oneOfType([c().string,c().node]),breakClassName:c().string,breakLinkClassName:c().string,breakHandler:c().func.isRequired,getEventListener:c().func.isRequired};const G=W;function O(N){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return N??T}function L(N){return L=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},L(N)}function S(){return S=Object.assign?Object.assign.bind():function(N){for(var T=1;T<arguments.length;T++){var M=arguments[T];for(var U in M)Object.prototype.hasOwnProperty.call(M,U)&&(N[U]=M[U])}return N},S.apply(this,arguments)}function $(N,T){for(var M=0;M<T.length;M++){var U=T[M];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(N,U.key,U)}}function H(N,T){return H=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(M,U){return M.__proto__=U,M},H(N,T)}function I(N,T){if(T&&(L(T)==="object"||typeof T=="function"))return T;if(T!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z(N)}function z(N){if(N===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N}function de(N){return de=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(T){return T.__proto__||Object.getPrototypeOf(T)},de(N)}function X(N,T,M){return T in N?Object.defineProperty(N,T,{value:M,enumerable:!0,configurable:!0,writable:!0}):N[T]=M,N}var Te=function(N){(function(_,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(p&&p.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),Object.defineProperty(_,"prototype",{writable:!1}),p&&H(_,p)})(K,N);var T,M,U,we,Ue=(U=K,we=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var _,p=de(U);if(we){var P=de(this).constructor;_=Reflect.construct(p,arguments,P)}else _=p.apply(this,arguments);return I(this,_)});function K(_){var p,P;return function(x,C){if(!(x instanceof C))throw new TypeError("Cannot call a class as a function")}(this,K),X(z(p=Ue.call(this,_)),"handlePreviousPage",function(x){var C=p.state.selected;p.handleClick(x,null,C>0?C-1:void 0,{isPrevious:!0})}),X(z(p),"handleNextPage",function(x){var C=p.state.selected,j=p.props.pageCount;p.handleClick(x,null,C<j-1?C+1:void 0,{isNext:!0})}),X(z(p),"handlePageSelected",function(x,C){if(p.state.selected===x)return p.callActiveCallback(x),void p.handleClick(C,null,void 0,{isActive:!0});p.handleClick(C,null,x)}),X(z(p),"handlePageChange",function(x){p.state.selected!==x&&(p.setState({selected:x}),p.callCallback(x))}),X(z(p),"getEventListener",function(x){return X({},p.props.eventListener,x)}),X(z(p),"handleClick",function(x,C,j){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},J=b.isPrevious,me=J!==void 0&&J,Pe=b.isNext,De=Pe!==void 0&&Pe,ue=b.isBreak,Ie=ue!==void 0&&ue,be=b.isActive,ke=be!==void 0&&be;x.preventDefault?x.preventDefault():x.returnValue=!1;var te=p.state.selected,xe=p.props.onClick,he=j;if(xe){var Y=xe({index:C,selected:te,nextSelectedPage:j,event:x,isPrevious:me,isNext:De,isBreak:Ie,isActive:ke});if(Y===!1)return;Number.isInteger(Y)&&(he=Y)}he!==void 0&&p.handlePageChange(he)}),X(z(p),"handleBreakClick",function(x,C){var j=p.state.selected;p.handleClick(C,x,j<x?p.getForwardJump():p.getBackwardJump(),{isBreak:!0})}),X(z(p),"callCallback",function(x){p.props.onPageChange!==void 0&&typeof p.props.onPageChange=="function"&&p.props.onPageChange({selected:x})}),X(z(p),"callActiveCallback",function(x){p.props.onPageActive!==void 0&&typeof p.props.onPageActive=="function"&&p.props.onPageActive({selected:x})}),X(z(p),"getElementPageRel",function(x){var C=p.state.selected,j=p.props,b=j.nextPageRel,J=j.prevPageRel,me=j.selectedPageRel;return C-1===x?J:C===x?me:C+1===x?b:void 0}),X(z(p),"pagination",function(){var x=[],C=p.props,j=C.pageRangeDisplayed,b=C.pageCount,J=C.marginPagesDisplayed,me=C.breakLabel,Pe=C.breakClassName,De=C.breakLinkClassName,ue=p.state.selected;if(b<=j)for(var Ie=0;Ie<b;Ie++)x.push(p.getPageElement(Ie));else{var be=j/2,ke=j-be;ue>b-j/2?be=j-(ke=b-ue):ue<j/2&&(ke=j-(be=ue));var te,xe,he=function(Ae){return p.getPageElement(Ae)},Y=[];for(te=0;te<b;te++){var Ee=te+1;Ee<=J||Ee>b-J||te>=ue-be&&te<=ue+(ue===0&&j>1?ke-1:ke)?Y.push({type:"page",index:te,display:he(te)}):me&&Y.length>0&&Y[Y.length-1].display!==xe&&(j>0||J>0)&&(xe=o().createElement(G,{key:te,breakLabel:me,breakClassName:Pe,breakLinkClassName:De,breakHandler:p.handleBreakClick.bind(null,te),getEventListener:p.getEventListener}),Y.push({type:"break",index:te,display:xe}))}Y.forEach(function(Ae,Le){var Ye=Ae;Ae.type==="break"&&Y[Le-1]&&Y[Le-1].type==="page"&&Y[Le+1]&&Y[Le+1].type==="page"&&Y[Le+1].index-Y[Le-1].index<=2&&(Ye={type:"page",index:Ae.index,display:he(Ae.index)}),x.push(Ye.display)})}return x}),_.initialPage!==void 0&&_.forcePage!==void 0&&console.warn("(react-paginate): Both initialPage (".concat(_.initialPage,") and forcePage (").concat(_.forcePage,") props are provided, which is discouraged.")+` Use exclusively forcePage prop for a controlled component.
See https://reactjs.org/docs/forms.html#controlled-components`),P=_.initialPage?_.initialPage:_.forcePage?_.forcePage:0,p.state={selected:P},p}return T=K,(M=[{key:"componentDidMount",value:function(){var _=this.props,p=_.initialPage,P=_.disableInitialCallback,x=_.extraAriaContext,C=_.pageCount,j=_.forcePage;p===void 0||P||this.callCallback(p),x&&console.warn("DEPRECATED (react-paginate): The extraAriaContext prop is deprecated. You should now use the ariaLabelBuilder instead."),Number.isInteger(C)||console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(C,"). Did you forget a Math.ceil()?")),p!==void 0&&p>C-1&&console.warn("(react-paginate): The initialPage prop provided is greater than the maximum page index from pageCount prop (".concat(p," > ").concat(C-1,").")),j!==void 0&&j>C-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(j," > ").concat(C-1,")."))}},{key:"componentDidUpdate",value:function(_){this.props.forcePage!==void 0&&this.props.forcePage!==_.forcePage&&(this.props.forcePage>this.props.pageCount-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(this.props.forcePage," > ").concat(this.props.pageCount-1,").")),this.setState({selected:this.props.forcePage})),Number.isInteger(_.pageCount)&&!Number.isInteger(this.props.pageCount)&&console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(this.props.pageCount,"). Did you forget a Math.ceil()?"))}},{key:"getForwardJump",value:function(){var _=this.state.selected,p=this.props,P=p.pageCount,x=_+p.pageRangeDisplayed;return x>=P?P-1:x}},{key:"getBackwardJump",value:function(){var _=this.state.selected-this.props.pageRangeDisplayed;return _<0?0:_}},{key:"getElementHref",value:function(_){var p=this.props,P=p.hrefBuilder,x=p.pageCount,C=p.hrefAllControls;if(P)return C||_>=0&&_<x?P(_+1,x,this.state.selected):void 0}},{key:"ariaLabelBuilder",value:function(_){var p=_===this.state.selected;if(this.props.ariaLabelBuilder&&_>=0&&_<this.props.pageCount){var P=this.props.ariaLabelBuilder(_+1,p);return this.props.extraAriaContext&&!p&&(P=P+" "+this.props.extraAriaContext),P}}},{key:"getPageElement",value:function(_){var p=this.state.selected,P=this.props,x=P.pageClassName,C=P.pageLinkClassName,j=P.activeClassName,b=P.activeLinkClassName,J=P.extraAriaContext,me=P.pageLabelBuilder;return o().createElement(A,{key:_,pageSelectedHandler:this.handlePageSelected.bind(null,_),selected:p===_,rel:this.getElementPageRel(_),pageClassName:x,pageLinkClassName:C,activeClassName:j,activeLinkClassName:b,extraAriaContext:J,href:this.getElementHref(_),ariaLabel:this.ariaLabelBuilder(_),page:_+1,pageLabelBuilder:me,getEventListener:this.getEventListener})}},{key:"render",value:function(){var _=this.props.renderOnZeroPageCount;if(this.props.pageCount===0&&_!==void 0)return _&&_(this.props);var p=this.props,P=p.disabledClassName,x=p.disabledLinkClassName,C=p.pageCount,j=p.className,b=p.containerClassName,J=p.previousLabel,me=p.previousClassName,Pe=p.previousLinkClassName,De=p.previousAriaLabel,ue=p.prevRel,Ie=p.nextLabel,be=p.nextClassName,ke=p.nextLinkClassName,te=p.nextAriaLabel,xe=p.nextRel,he=this.state.selected,Y=he===0,Ee=he===C-1,Ae="".concat(O(me)).concat(Y?" ".concat(O(P)):""),Le="".concat(O(be)).concat(Ee?" ".concat(O(P)):""),Ye="".concat(O(Pe)).concat(Y?" ".concat(O(x)):""),Rt="".concat(O(ke)).concat(Ee?" ".concat(O(x)):""),Ot=Y?"true":"false",Pt=Ee?"true":"false";return o().createElement("ul",{className:j||b,role:"navigation","aria-label":"Pagination"},o().createElement("li",{className:Ae},o().createElement("a",S({className:Ye,href:this.getElementHref(he-1),tabIndex:Y?"-1":"0",role:"button",onKeyPress:this.handlePreviousPage,"aria-disabled":Ot,"aria-label":De,rel:ue},this.getEventListener(this.handlePreviousPage)),J)),this.pagination(),o().createElement("li",{className:Le},o().createElement("a",S({className:Rt,href:this.getElementHref(he+1),tabIndex:Ee?"-1":"0",role:"button",onKeyPress:this.handleNextPage,"aria-disabled":Pt,"aria-label":te,rel:xe},this.getEventListener(this.handleNextPage)),Ie)))}}])&&$(T.prototype,M),Object.defineProperty(T,"prototype",{writable:!1}),K}(s.Component);X(Te,"propTypes",{pageCount:c().number.isRequired,pageRangeDisplayed:c().number,marginPagesDisplayed:c().number,previousLabel:c().node,previousAriaLabel:c().string,prevPageRel:c().string,prevRel:c().string,nextLabel:c().node,nextAriaLabel:c().string,nextPageRel:c().string,nextRel:c().string,breakLabel:c().oneOfType([c().string,c().node]),hrefBuilder:c().func,hrefAllControls:c().bool,onPageChange:c().func,onPageActive:c().func,onClick:c().func,initialPage:c().number,forcePage:c().number,disableInitialCallback:c().bool,containerClassName:c().string,className:c().string,pageClassName:c().string,pageLinkClassName:c().string,pageLabelBuilder:c().func,activeClassName:c().string,activeLinkClassName:c().string,previousClassName:c().string,nextClassName:c().string,previousLinkClassName:c().string,nextLinkClassName:c().string,disabledClassName:c().string,disabledLinkClassName:c().string,breakClassName:c().string,breakLinkClassName:c().string,extraAriaContext:c().string,ariaLabelBuilder:c().func,eventListener:c().string,renderOnZeroPageCount:c().func,selectedPageRel:c().string}),X(Te,"defaultProps",{pageRangeDisplayed:2,marginPagesDisplayed:3,activeClassName:"selected",previousLabel:"Previous",previousClassName:"previous",previousAriaLabel:"Previous page",prevPageRel:"prev",prevRel:"prev",nextLabel:"Next",nextClassName:"next",nextAriaLabel:"Next page",nextPageRel:"next",nextRel:"next",breakLabel:"...",disabledClassName:"disabled",disableInitialCallback:!1,pageLabelBuilder:function(N){return N},eventListener:"onClick",renderOnZeroPageCount:void 0,selectedPageRel:"canonical",hrefAllControls:!1});const Be=Te})(),u})())})(Wa);const qa=ta(dr);function bn(e){const{total:r,pageSize:t,current:a,onChange:l}=e,i=Array.from(Array(r).keys()),u=Math.ceil(i.length/t),s=o=>l&&l(o.selected+1);return r?m(qa,{initialPage:a-1,breakLabel:"...",onPageChange:s,pageRangeDisplayed:5,pageCount:u,marginPagesDisplayed:2,nextLabel:"►",previousLabel:"◄",renderOnZeroPageCount:!1,containerClassName:"pagination",subContainerClassName:"pages pagination",activeClassName:"active"}):m(ra,{})}const Ga=({number:e})=>{const r=14-e.toString().length*2;return R("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4 2H20C21.1 2 22 2.9 22 4V16C22 17.1 21.1 18 20 18H6L2 22V4C2 2.9 2.9 2 4 2ZM5.17 16H20V4H4V17.17L5.17 16Z",fill:"#6a5c89"}),m("text",{x:"48%",y:"46%","dominant-baseline":"middle","text-anchor":"middle","font-size":r,fill:"#6a5c89",children:e})]})};function _n(e){const{is_member:r,group:t,last_topics:a}=e,[l,i]=ee.useState(a||[]),[u,s]=ee.useState(e.page),o=ee.useRef(!0);pt(()=>{o.current?o.current=!1:(y(),window.history.pushState(null,null,`?page=${u}`))},[u]);const y=async()=>{await rt.get(`/group/${t.id}/topics`,{params:{page:u}}).then(c=>{c.status==200&&(c.data.r===0?(i(c.data.data),window.scroll(0,document.querySelector(".topics").offsetTop-100,{behavior:"smooth"})):alert(c.data.msg))})};return R("div",{className:"group",children:[m($a,{...t,is_member:r}),m("div",{className:"divide"}),R("div",{className:"topics",children:[R("div",{className:"topics-hd",children:[m("div",{className:"topics-hd-label",children:"最近讨论"}),m("a",{className:"topics-hd-add button",href:`/group/${t.id}/new_topic`,children:"发言"})]}),m("table",{children:R("tbody",{children:[R("tr",{children:[m("th",{width:"60%",className:"topic-title",children:"讨论"}),m("th",{width:"20%",children:"作者"}),m("th",{width:"20%",children:"回应"})]}),l.map(c=>R("tr",{children:[R("td",{className:"topic-title",children:[m(Ga,{number:c.comments_count}),m("a",{href:`/group/topic/${c.id}`,children:c.title})]}),m("td",{className:"topic-author",children:m("a",{href:`/group/profile/${c.user.mastodon_username}/`,children:c.user.mastodon_account.display_name})}),m("td",{className:"topic-time",title:c.updated_at,children:Qr(new Date(c.updated_at),new Date,!0)})]}))]})}),m(bn,{current:u,total:e.total,pageSize:e.page_size,onChange:c=>s(c)})]})]})}var At={},Va={get exports(){return At},set exports(e){At=e}};/*! @license DOMPurify 3.0.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.0/LICENSE */var Xr;function Kr(){return Xr||(Xr=1,function(e,r){(function(t,a){e.exports=a()})(Jr,function(){function t(d){return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},t(d)}function a(d,h){return a=Object.setPrototypeOf||function(D,B){return D.__proto__=B,D},a(d,h)}function l(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function i(d,h,g){return l()?i=Reflect.construct:i=function(B,re,se){var ne=[null];ne.push.apply(ne,re);var ye=Function.bind.apply(B,ne),nt=new ye;return se&&a(nt,se.prototype),nt},i.apply(null,arguments)}function u(d,h){return y(d)||E(d,h)||w(d,h)||W()}function s(d){return o(d)||c(d)||w(d)||F()}function o(d){if(Array.isArray(d))return A(d)}function y(d){if(Array.isArray(d))return d}function c(d){if(typeof Symbol<"u"&&d[Symbol.iterator]!=null||d["@@iterator"]!=null)return Array.from(d)}function E(d,h){var g=d==null?null:typeof Symbol<"u"&&d[Symbol.iterator]||d["@@iterator"];if(g!=null){var D=[],B=!0,re=!1,se,ne;try{for(g=g.call(d);!(B=(se=g.next()).done)&&(D.push(se.value),!(h&&D.length===h));B=!0);}catch(ye){re=!0,ne=ye}finally{try{!B&&g.return!=null&&g.return()}finally{if(re)throw ne}}return D}}function w(d,h){if(d){if(typeof d=="string")return A(d,h);var g=Object.prototype.toString.call(d).slice(8,-1);if(g==="Object"&&d.constructor&&(g=d.constructor.name),g==="Map"||g==="Set")return Array.from(d);if(g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g))return A(d,h)}}function A(d,h){(h==null||h>d.length)&&(h=d.length);for(var g=0,D=new Array(h);g<h;g++)D[g]=d[g];return D}function F(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G(d,h){var g=typeof Symbol<"u"&&d[Symbol.iterator]||d["@@iterator"];if(!g){if(Array.isArray(d)||(g=w(d))||h&&d&&typeof d.length=="number"){g&&(d=g);var D=0,B=function(){};return{s:B,n:function(){return D>=d.length?{done:!0}:{done:!1,value:d[D++]}},e:function(ye){throw ye},f:B}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var re=!0,se=!1,ne;return{s:function(){g=g.call(d)},n:function(){var ye=g.next();return re=ye.done,ye},e:function(ye){se=!0,ne=ye},f:function(){try{!re&&g.return!=null&&g.return()}finally{if(se)throw ne}}}}var O=Object.entries,L=Object.setPrototypeOf,S=Object.isFrozen,$=Object.getPrototypeOf,H=Object.getOwnPropertyDescriptor,I=Object.freeze,z=Object.seal,de=Object.create,X=typeof Reflect<"u"&&Reflect,Te=X.apply,Be=X.construct;Te||(Te=function(h,g,D){return h.apply(g,D)}),I||(I=function(h){return h}),z||(z=function(h){return h}),Be||(Be=function(h,g){return i(h,s(g))});var N=C(Array.prototype.forEach),T=C(Array.prototype.pop),M=C(Array.prototype.push),U=C(String.prototype.toLowerCase),we=C(String.prototype.toString),Ue=C(String.prototype.match),K=C(String.prototype.replace),_=C(String.prototype.indexOf),p=C(String.prototype.trim),P=C(RegExp.prototype.test),x=j(TypeError);function C(d){return function(h){for(var g=arguments.length,D=new Array(g>1?g-1:0),B=1;B<g;B++)D[B-1]=arguments[B];return Te(d,h,D)}}function j(d){return function(){for(var h=arguments.length,g=new Array(h),D=0;D<h;D++)g[D]=arguments[D];return Be(d,g)}}function b(d,h,g){g=g||U,L&&L(d,null);for(var D=h.length;D--;){var B=h[D];if(typeof B=="string"){var re=g(B);re!==B&&(S(h)||(h[D]=re),B=re)}d[B]=!0}return d}function J(d){var h=de(null),g=G(O(d)),D;try{for(g.s();!(D=g.n()).done;){var B=u(D.value,2),re=B[0],se=B[1];h[re]=se}}catch(ne){g.e(ne)}finally{g.f()}return h}function me(d,h){for(;d!==null;){var g=H(d,h);if(g){if(g.get)return C(g.get);if(typeof g.value=="function")return C(g.value)}d=$(d)}function D(B){return console.warn("fallback value for",B),null}return D}var Pe=I(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),De=I(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),ue=I(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Ie=I(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),be=I(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),ke=I(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),te=I(["#text"]),xe=I(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),he=I(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Y=I(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ee=I(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Ae=z(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Le=z(/<%[\w\W]*|[\w\W]*%>/gm),Ye=z(/\${[\w\W]*}/gm),Rt=z(/^data-[\-\w.\u00B7-\uFFFF]/),Ot=z(/^aria-[\-\w]+$/),Pt=z(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Sn=z(/^(?:\w+script|data):/i),Cn=z(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Tn=z(/^html$/i),kn=function(){return typeof window>"u"?null:window},An=function(h,g){if(t(h)!=="object"||typeof h.createPolicy!="function")return null;var D=null,B="data-tt-policy-suffix";g.currentScript&&g.currentScript.hasAttribute(B)&&(D=g.currentScript.getAttribute(B));var re="dompurify"+(D?"#"+D:"");try{return h.createPolicy(re,{createHTML:function(ne){return ne},createScriptURL:function(ne){return ne}})}catch{return console.warn("TrustedTypes policy "+re+" could not be created."),null}};function gr(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:kn(),h=function(n){return gr(n)};if(h.version="3.0.0",h.removed=[],!d||!d.document||d.document.nodeType!==9)return h.isSupported=!1,h;var g=d.document,D=d.document,B=d.DocumentFragment,re=d.HTMLTemplateElement,se=d.Node,ne=d.Element,ye=d.NodeFilter,nt=d.NamedNodeMap,Rn=nt===void 0?d.NamedNodeMap||d.MozNamedAttrMap:nt,On=d.HTMLFormElement,Pn=d.DOMParser,ht=d.trustedTypes,vt=ne.prototype,Dn=me(vt,"cloneNode"),In=me(vt,"nextSibling"),Mn=me(vt,"childNodes"),Dt=me(vt,"parentNode");if(typeof re=="function"){var It=D.createElement("template");It.content&&It.content.ownerDocument&&(D=It.content.ownerDocument)}var Se=An(ht,g),yr=Se?Se.createHTML(""):"",gt=D,Mt=gt.implementation,Fn=gt.createNodeIterator,zn=gt.createDocumentFragment,Un=gt.getElementsByTagName,Hn=g.importNode,Re={};h.isSupported=typeof O=="function"&&typeof Dt=="function"&&Mt&&typeof Mt.createHTMLDocument<"u";var Ft=Ae,zt=Le,Ut=Ye,jn=Rt,Bn=Ot,$n=Sn,br=Cn,Ht=Pt,ae=null,_r=b({},[].concat(s(Pe),s(De),s(ue),s(be),s(te))),oe=null,wr=b({},[].concat(s(xe),s(he),s(Y),s(Ee))),Q=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),at=null,jt=null,Er=!0,Bt=!0,Nr=!1,xr=!0,Ze=!1,$e=!1,$t=!1,Wt=!1,Xe=!1,yt=!1,bt=!1,Sr=!0,Cr=!1,Wn="user-content-",qt=!0,ot=!1,Ke={},Je=null,Tr=b({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),kr=null,Ar=b({},["audio","video","img","source","image","track"]),Gt=null,Lr=b({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),_t="http://www.w3.org/1998/Math/MathML",wt="http://www.w3.org/2000/svg",Me="http://www.w3.org/1999/xhtml",Qe=Me,Vt=!1,Yt=null,qn=b({},[_t,wt,Me],we),We,Gn=["application/xhtml+xml","text/html"],Vn="text/html",ie,et=null,Yn=D.createElement("form"),Rr=function(n){return n instanceof RegExp||n instanceof Function},Zt=function(n){et&&et===n||((!n||t(n)!=="object")&&(n={}),n=J(n),We=Gn.indexOf(n.PARSER_MEDIA_TYPE)===-1?We=Vn:We=n.PARSER_MEDIA_TYPE,ie=We==="application/xhtml+xml"?we:U,ae="ALLOWED_TAGS"in n?b({},n.ALLOWED_TAGS,ie):_r,oe="ALLOWED_ATTR"in n?b({},n.ALLOWED_ATTR,ie):wr,Yt="ALLOWED_NAMESPACES"in n?b({},n.ALLOWED_NAMESPACES,we):qn,Gt="ADD_URI_SAFE_ATTR"in n?b(J(Lr),n.ADD_URI_SAFE_ATTR,ie):Lr,kr="ADD_DATA_URI_TAGS"in n?b(J(Ar),n.ADD_DATA_URI_TAGS,ie):Ar,Je="FORBID_CONTENTS"in n?b({},n.FORBID_CONTENTS,ie):Tr,at="FORBID_TAGS"in n?b({},n.FORBID_TAGS,ie):{},jt="FORBID_ATTR"in n?b({},n.FORBID_ATTR,ie):{},Ke="USE_PROFILES"in n?n.USE_PROFILES:!1,Er=n.ALLOW_ARIA_ATTR!==!1,Bt=n.ALLOW_DATA_ATTR!==!1,Nr=n.ALLOW_UNKNOWN_PROTOCOLS||!1,xr=n.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Ze=n.SAFE_FOR_TEMPLATES||!1,$e=n.WHOLE_DOCUMENT||!1,Xe=n.RETURN_DOM||!1,yt=n.RETURN_DOM_FRAGMENT||!1,bt=n.RETURN_TRUSTED_TYPE||!1,Wt=n.FORCE_BODY||!1,Sr=n.SANITIZE_DOM!==!1,Cr=n.SANITIZE_NAMED_PROPS||!1,qt=n.KEEP_CONTENT!==!1,ot=n.IN_PLACE||!1,Ht=n.ALLOWED_URI_REGEXP||Ht,Qe=n.NAMESPACE||Me,n.CUSTOM_ELEMENT_HANDLING&&Rr(n.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Q.tagNameCheck=n.CUSTOM_ELEMENT_HANDLING.tagNameCheck),n.CUSTOM_ELEMENT_HANDLING&&Rr(n.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Q.attributeNameCheck=n.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),n.CUSTOM_ELEMENT_HANDLING&&typeof n.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Q.allowCustomizedBuiltInElements=n.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ze&&(Bt=!1),yt&&(Xe=!0),Ke&&(ae=b({},s(te)),oe=[],Ke.html===!0&&(b(ae,Pe),b(oe,xe)),Ke.svg===!0&&(b(ae,De),b(oe,he),b(oe,Ee)),Ke.svgFilters===!0&&(b(ae,ue),b(oe,he),b(oe,Ee)),Ke.mathMl===!0&&(b(ae,be),b(oe,Y),b(oe,Ee))),n.ADD_TAGS&&(ae===_r&&(ae=J(ae)),b(ae,n.ADD_TAGS,ie)),n.ADD_ATTR&&(oe===wr&&(oe=J(oe)),b(oe,n.ADD_ATTR,ie)),n.ADD_URI_SAFE_ATTR&&b(Gt,n.ADD_URI_SAFE_ATTR,ie),n.FORBID_CONTENTS&&(Je===Tr&&(Je=J(Je)),b(Je,n.FORBID_CONTENTS,ie)),qt&&(ae["#text"]=!0),$e&&b(ae,["html","head","body"]),ae.table&&(b(ae,["tbody"]),delete at.tbody),I&&I(n),et=n)},Or=b({},["mi","mo","mn","ms","mtext"]),Pr=b({},["foreignobject","desc","title","annotation-xml"]),Zn=b({},["title","style","font","a","script"]),Et=b({},De);b(Et,ue),b(Et,Ie);var Xt=b({},be);b(Xt,ke);var Xn=function(n){var f=Dt(n);(!f||!f.tagName)&&(f={namespaceURI:Qe,tagName:"template"});var v=U(n.tagName),q=U(f.tagName);return Yt[n.namespaceURI]?n.namespaceURI===wt?f.namespaceURI===Me?v==="svg":f.namespaceURI===_t?v==="svg"&&(q==="annotation-xml"||Or[q]):Boolean(Et[v]):n.namespaceURI===_t?f.namespaceURI===Me?v==="math":f.namespaceURI===wt?v==="math"&&Pr[q]:Boolean(Xt[v]):n.namespaceURI===Me?f.namespaceURI===wt&&!Pr[q]||f.namespaceURI===_t&&!Or[q]?!1:!Xt[v]&&(Zn[v]||!Et[v]):!!(We==="application/xhtml+xml"&&Yt[n.namespaceURI]):!1},qe=function(n){M(h.removed,{element:n});try{n.parentNode.removeChild(n)}catch{n.remove()}},Kt=function(n,f){try{M(h.removed,{attribute:f.getAttributeNode(n),from:f})}catch{M(h.removed,{attribute:null,from:f})}if(f.removeAttribute(n),n==="is"&&!oe[n])if(Xe||yt)try{qe(f)}catch{}else try{f.setAttribute(n,"")}catch{}},Dr=function(n){var f,v;if(Wt)n="<remove></remove>"+n;else{var q=Ue(n,/^[\r\n\t ]+/);v=q&&q[0]}We==="application/xhtml+xml"&&Qe===Me&&(n='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+n+"</body></html>");var le=Se?Se.createHTML(n):n;if(Qe===Me)try{f=new Pn().parseFromString(le,We)}catch{}if(!f||!f.documentElement){f=Mt.createDocument(Qe,"template",null);try{f.documentElement.innerHTML=Vt?yr:le}catch{}}var Ne=f.body||f.documentElement;return n&&v&&Ne.insertBefore(D.createTextNode(v),Ne.childNodes[0]||null),Qe===Me?Un.call(f,$e?"html":"body")[0]:$e?f.documentElement:Ne},Ir=function(n){return Fn.call(n.ownerDocument||n,n,ye.SHOW_ELEMENT|ye.SHOW_COMMENT|ye.SHOW_TEXT,null,!1)},Kn=function(n){return n instanceof On&&(typeof n.nodeName!="string"||typeof n.textContent!="string"||typeof n.removeChild!="function"||!(n.attributes instanceof Rn)||typeof n.removeAttribute!="function"||typeof n.setAttribute!="function"||typeof n.namespaceURI!="string"||typeof n.insertBefore!="function"||typeof n.hasChildNodes!="function")},Nt=function(n){return t(se)==="object"?n instanceof se:n&&t(n)==="object"&&typeof n.nodeType=="number"&&typeof n.nodeName=="string"},Fe=function(n,f,v){Re[n]&&N(Re[n],function(q){q.call(h,f,v,et)})},Mr=function(n){var f;if(Fe("beforeSanitizeElements",n,null),Kn(n))return qe(n),!0;var v=ie(n.nodeName);if(Fe("uponSanitizeElement",n,{tagName:v,allowedTags:ae}),n.hasChildNodes()&&!Nt(n.firstElementChild)&&(!Nt(n.content)||!Nt(n.content.firstElementChild))&&P(/<[/\w]/g,n.innerHTML)&&P(/<[/\w]/g,n.textContent))return qe(n),!0;if(!ae[v]||at[v]){if(!at[v]&&zr(v)&&(Q.tagNameCheck instanceof RegExp&&P(Q.tagNameCheck,v)||Q.tagNameCheck instanceof Function&&Q.tagNameCheck(v)))return!1;if(qt&&!Je[v]){var q=Dt(n)||n.parentNode,le=Mn(n)||n.childNodes;if(le&&q)for(var Ne=le.length,pe=Ne-1;pe>=0;--pe)q.insertBefore(Dn(le[pe],!0),In(n))}return qe(n),!0}return n instanceof ne&&!Xn(n)||(v==="noscript"||v==="noembed")&&P(/<\/no(script|embed)/i,n.innerHTML)?(qe(n),!0):(Ze&&n.nodeType===3&&(f=n.textContent,f=K(f,Ft," "),f=K(f,zt," "),f=K(f,Ut," "),n.textContent!==f&&(M(h.removed,{element:n.cloneNode()}),n.textContent=f)),Fe("afterSanitizeElements",n,null),!1)},Fr=function(n,f,v){if(Sr&&(f==="id"||f==="name")&&(v in D||v in Yn))return!1;if(!(Bt&&!jt[f]&&P(jn,f))){if(!(Er&&P(Bn,f))){if(!oe[f]||jt[f]){if(!(zr(n)&&(Q.tagNameCheck instanceof RegExp&&P(Q.tagNameCheck,n)||Q.tagNameCheck instanceof Function&&Q.tagNameCheck(n))&&(Q.attributeNameCheck instanceof RegExp&&P(Q.attributeNameCheck,f)||Q.attributeNameCheck instanceof Function&&Q.attributeNameCheck(f))||f==="is"&&Q.allowCustomizedBuiltInElements&&(Q.tagNameCheck instanceof RegExp&&P(Q.tagNameCheck,v)||Q.tagNameCheck instanceof Function&&Q.tagNameCheck(v))))return!1}else if(!Gt[f]){if(!P(Ht,K(v,br,""))){if(!((f==="src"||f==="xlink:href"||f==="href")&&n!=="script"&&_(v,"data:")===0&&kr[n])){if(!(Nr&&!P($n,K(v,br,"")))){if(v)return!1}}}}}}return!0},zr=function(n){return n.indexOf("-")>0},Ur=function(n){var f,v,q,le;Fe("beforeSanitizeAttributes",n,null);var Ne=n.attributes;if(Ne){var pe={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:oe};for(le=Ne.length;le--;){f=Ne[le];var _e=f,Ge=_e.name,Jt=_e.namespaceURI;if(v=Ge==="value"?f.value:p(f.value),q=ie(Ge),pe.attrName=q,pe.attrValue=v,pe.keepAttr=!0,pe.forceKeepAttr=void 0,Fe("uponSanitizeAttribute",n,pe),v=pe.attrValue,!pe.forceKeepAttr&&(Kt(Ge,n),!!pe.keepAttr)){if(!xr&&P(/\/>/i,v)){Kt(Ge,n);continue}Ze&&(v=K(v,Ft," "),v=K(v,zt," "),v=K(v,Ut," "));var Hr=ie(n.nodeName);if(Fr(Hr,q,v)){if(Cr&&(q==="id"||q==="name")&&(Kt(Ge,n),v=Wn+v),Se&&t(ht)==="object"&&typeof ht.getAttributeType=="function"&&!Jt)switch(ht.getAttributeType(Hr,q)){case"TrustedHTML":v=Se.createHTML(v);break;case"TrustedScriptURL":v=Se.createScriptURL(v);break}try{Jt?n.setAttributeNS(Jt,Ge,v):n.setAttribute(Ge,v),T(h.removed)}catch{}}}}Fe("afterSanitizeAttributes",n,null)}},Jn=function k(n){var f,v=Ir(n);for(Fe("beforeSanitizeShadowDOM",n,null);f=v.nextNode();)Fe("uponSanitizeShadowNode",f,null),!Mr(f)&&(f.content instanceof B&&k(f.content),Ur(f));Fe("afterSanitizeShadowDOM",n,null)};return h.sanitize=function(k){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f,v,q,le;if(Vt=!k,Vt&&(k="<!-->"),typeof k!="string"&&!Nt(k)){if(typeof k.toString!="function")throw x("toString is not a function");if(k=k.toString(),typeof k!="string")throw x("dirty is not a string, aborting")}if(!h.isSupported)return k;if($t||Zt(n),h.removed=[],typeof k=="string"&&(ot=!1),ot){if(k.nodeName){var Ne=ie(k.nodeName);if(!ae[Ne]||at[Ne])throw x("root node is forbidden and cannot be sanitized in-place")}}else if(k instanceof se)f=Dr("<!---->"),v=f.ownerDocument.importNode(k,!0),v.nodeType===1&&v.nodeName==="BODY"||v.nodeName==="HTML"?f=v:f.appendChild(v);else{if(!Xe&&!Ze&&!$e&&k.indexOf("<")===-1)return Se&&bt?Se.createHTML(k):k;if(f=Dr(k),!f)return Xe?null:bt?yr:""}f&&Wt&&qe(f.firstChild);for(var pe=Ir(ot?k:f);q=pe.nextNode();)Mr(q)||(q.content instanceof B&&Jn(q.content),Ur(q));if(ot)return k;if(Xe){if(yt)for(le=zn.call(f.ownerDocument);f.firstChild;)le.appendChild(f.firstChild);else le=f;return(oe.shadowroot||oe.shadowrootmod)&&(le=Hn.call(g,le,!0)),le}var _e=$e?f.outerHTML:f.innerHTML;return $e&&ae["!doctype"]&&f.ownerDocument&&f.ownerDocument.doctype&&f.ownerDocument.doctype.name&&P(Tn,f.ownerDocument.doctype.name)&&(_e="<!DOCTYPE "+f.ownerDocument.doctype.name+`>
`+_e),Ze&&(_e=K(_e,Ft," "),_e=K(_e,zt," "),_e=K(_e,Ut," ")),Se&&bt?Se.createHTML(_e):_e},h.setConfig=function(k){Zt(k),$t=!0},h.clearConfig=function(){et=null,$t=!1},h.isValidAttribute=function(k,n,f){et||Zt({});var v=ie(k),q=ie(n);return Fr(v,q,f)},h.addHook=function(k,n){typeof n=="function"&&(Re[k]=Re[k]||[],M(Re[k],n))},h.removeHook=function(k){if(Re[k])return T(Re[k])},h.removeHooks=function(k){Re[k]&&(Re[k]=[])},h.removeAllHooks=function(){Re={}},h}var Ln=gr();return Ln})}(Va)),At}var wn=window.DOMPurify||(window.DOMPurify=Kr().default||Kr());function En(e){const{mastodon_username:r,mastodon_account:t,authored_at:a,showNote:l=!1}=e,{display_name:i,avatar:u,note:s,url:o}=t;return R("div",{className:"author",children:[m("div",{className:st("left-side",{center:l}),children:m("a",{href:`/group/profile/${r}/`,className:"topic-author",children:m("img",{alt:r,className:"avatar",src:u})})}),R("div",{className:"right-side",children:[R("div",{className:"topic-user",alt:r,children:[R("div",{className:"topic-user-username",children:[R("span",{className:"display-name",children:[" ",i," "]}),m("a",{className:"mastodon-account",href:`/group/profile/${r}/`,children:r})]}),l&&s&&m("div",{className:"note",dangerouslySetInnerHTML:{__html:wn.sanitize(s)}})]}),m("div",{className:"authored-at",title:a,children:Qr(new Date(a),new Date)})]})]})}const Ya=e=>m("svg",{...e,width:"24px",height:"24px",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",className:"icon",children:m("path",{d:"M885.9 533.7c16.8-22.2 26.1-49.4 26.1-77.7 0-44.9-25.1-87.4-65.5-111.1a67.67 67.67 0 0 0-34.3-9.3H572.4l6-122.9c1.4-29.7-9.1-57.9-29.5-79.4A106.62 106.62 0 0 0 471 99.9c-52 0-98 35-111.8 85.1l-85.9 311h-.3v428h472.3c9.2 0 18.2-1.8 26.5-5.4 47.6-20.3 78.3-66.8 78.3-118.4 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7-.2-12.6-2-25.1-5.6-37.1zM112 528v364c0 17.7 14.3 32 32 32h65V496h-65c-17.7 0-32 14.3-32 32z"})});function Za(e){const{targetId:r,liked:t,likeCount:a,onClick:l}=e,[i,u]=ee.useState({liked:t,likeCount:a}),s=async()=>{await rt.post(`/group/comment/${r}/like`,{}).then(y=>{if(y.status==200&&y.data&&y.data.r===0){let c=Boolean(y.data.data);u(E=>({liked:c,likeCount:E.likeCount+(c?1:-1)}))}else alert(y.data.msg)}).catch(y=>{y.response&&y.response.status===403&&alert("请先登录")})},o=()=>{s(),l&&l()};return R("div",{className:"like"+(i.liked?" liked":""),children:[m(Ya,{onClick:o}),m("span",{className:"like-count",children:i.likeCount})]})}function Nn(e){const{comment:r,onRemove:t}=e;return R("div",{className:"comment-quote",children:[m("div",{className:"comment-quote-content",children:r.content}),m("div",{className:"comment-quote-author",children:r.user&&r.user.username})]})}const Xa=e=>m("svg",{...e,width:"24px",height:"24px",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",className:"bi bi-reply-fill",children:m("path",{d:"M5.921 11.9 1.353 8.62a.719.719 0 0 1 0-1.238L5.921 4.1A.716.716 0 0 1 7 4.719V6c1.5 0 6 0 7 8-2.5-4.5-7-4-7-4v1.281c0 .56-.606.898-1.079.62z"})});function Ka(e){const{id:r,user:t,created_at:a,content:l,liked:i,like_count:u,onReply:s,comment_reply:o,is_owner:y}=e,c=async()=>{await rt.post(`/group/comment/${r}/delete`).then(w=>{w.status==200&&w.data&&w.data.r===0?document.getElementById(`comment-${r}`).remove():w.status!=200?alert("出错了，请联系管理员"):alert(w.data.msg)})},E=()=>{confirm("确定要删除这条评论吗？")&&c()};return R("div",{className:"comment",id:`comment-${r}`,children:[m(En,{...t,authored_at:a}),R("div",{className:"comment-content",children:[o&&m(Nn,{comment:o}),m("div",{className:"comment-text p",children:l})]}),R("div",{className:"comment-action",children:[m(Za,{targetId:r,liked:i,likeCount:u}),m("div",{className:"reply",onClick:()=>s(e),onTouchStart:()=>s(e),children:m(Xa,{})}),y&&m("div",{className:"delete",onClick:E,onTouchStart:E,children:"删除"})]})]})}const Ja=ee.forwardRef((e,r)=>{const{topicId:t}=e,[a,l]=ee.useState({sending:!1,share_to_mastodon:!0,quote:e.replyComment});ee.useEffect(()=>{l({...a,quote:e.replyComment})},[e.replyComment]);const i=async o=>{l({...a,sending:!0}),await rt.post(`/group/topic/${t}/`,o).then(y=>{l({...a,sending:!1}),y.status==200?y.data.r===0?location.reload():alert(y.data.msg):alert("出错啦，请稍后再试或联系管理员")})},u=()=>{var y;let o=r.current&&r.current.querySelector("[contentEditable]").innerText.replaceAll(`

`,`
`);if(!o){alert("请输入一段文字再提交吧");return}i({id:t,content:o,comment_reply:(y=a.quote)==null?void 0:y.id,share_to_mastodon:a.share_to_mastodon})},s=()=>{l({...a,share_to_mastodon:!a.share_to_mastodon})};return R("div",{className:"reply-form",ref:r,children:[a.quote&&m(Nn,{comment:a.quote}),m("div",{className:"reply-content",contentEditable:!0,placeholder:"Neogrp 欢迎文明、友善的交流。",onKeyDown:o=>{o.currentTarget.textContent===""&&(o.key==="Backspace"||o.key==="Delete")&&l({...a,quote:null})}}),R("div",{className:`reply-action${a.sending?" disabled":""}`,disabled:a.sending,children:[m("div",{className:`share-to-mastodon${a.share_to_mastodon?" yes":""}`,onClick:s,children:m(na,{})}),m("div",{className:"submit",onClick:u,children:m(aa,{})})]})]})});function xn(e){const[r,t]=ee.useState(e.comments||[]),[a,l]=ee.useState(null),[i,u]=ee.useState(e.page),{user:s,updated_at:o,id:y,title:c,html_content:E,group:w}=e,A=ee.useRef(null),F=async()=>{await rt.get(`/group/topic/${y}/comments`,{params:{page:i}}).then(O=>{O.status==200&&(O.data.r===0?(t(O.data.data),window.scroll(0,document.querySelector(".comments-wrapper").offsetTop-100,{behavior:"smooth"})):alert(O.data.msg))})},W=ee.useRef(!0);pt(()=>{W.current?W.current=!1:(F(),window.history.pushState(null,null,`?page=${i}`))},[i]),ee.useEffect(()=>{a&&A.current&&A.current.querySelector("[contenteditable]").focus()},[a]),pt(()=>{const L=new URLSearchParams(window.location.search).get("comment_id");if(L){const S=document.getElementById(`comment-${L}`);S&&(window.scroll(0,S.offsetTop-100,{behavior:"smooth"}),S.classList.add("highlight"),setTimeout(()=>{S.classList.remove("highlight")},600))}},[]);const G=O=>l(O);return R("div",{className:"topic",children:[m("div",{className:"title",children:c}),m(En,{...s,showNote:!0,authored_at:o}),m("div",{className:"topic-content",dangerouslySetInnerHTML:{__html:wn.sanitize(E)}}),m("div",{className:"divide"}),R("div",{className:"comments-wrapper",children:[m("div",{className:"comments",children:r.map((O,L)=>m(Ka,{...O,onReply:G},L))}),m(bn,{current:i,total:e.total,pageSize:e.page_size,onChange:O=>u(O)})]}),m("div",{className:"reply-form-wrapper",children:m(Ja,{ref:A,replyComment:a,topicId:y})})]})}const Qa={Nav:nr("Nav")(vn),Topic:nr("Topic")(xn),TopicSidebar:yn,Group:nr("Group")(_n),GroupSidebar:gn},eo={Nav:vn,Topic:xn,TopicSidebar:yn,Group:_n,GroupSidebar:gn},to=St()?Qa:eo,ro=Object.freeze(Object.defineProperty({__proto__:null,default:to},Symbol.toStringTag,{value:"Module"}));window.React=oa;window.ReactDOM=ia;window.C=ro;
