import{o as Qn,r as ee,a as ea,j as m,u as pt,b as O,i as St,c as rt,d as Jr,g as ta,F as ra,e as Qr,f as na,S as aa,R as ia,h as oa}from"./axios.js";var dt={},ar={},sa={get exports(){return ar},set exports(e){ar=e}};/** @license React v16.14.0
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ce=Qn,ze=ee;function Z(e){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+e,t=1;t<arguments.length;t++)r+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ve=typeof Symbol=="function"&&Symbol.for,en=ve?Symbol.for("react.portal"):60106,ir=ve?Symbol.for("react.fragment"):60107,tn=ve?Symbol.for("react.strict_mode"):60108,rn=ve?Symbol.for("react.profiler"):60114,or=ve?Symbol.for("react.provider"):60109,nn=ve?Symbol.for("react.context"):60110,la=ve?Symbol.for("react.concurrent_mode"):60111,an=ve?Symbol.for("react.forward_ref"):60112,sr=ve?Symbol.for("react.suspense"):60113,on=ve?Symbol.for("react.suspense_list"):60120,sn=ve?Symbol.for("react.memo"):60115,ln=ve?Symbol.for("react.lazy"):60116,ca=ve?Symbol.for("react.block"):60121,ua=ve?Symbol.for("react.fundamental"):60117,pa=ve?Symbol.for("react.scope"):60119;function da(e){if(e._status===-1){e._status=0;var r=e._ctor;r=r(),e._result=r,r.then(function(t){e._status===0&&(t=t.default,e._status=1,e._result=t)},function(t){e._status===0&&(e._status=2,e._result=t)})}}function lt(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ir:return"Fragment";case en:return"Portal";case rn:return"Profiler";case tn:return"StrictMode";case sr:return"Suspense";case on:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case nn:return"Context.Consumer";case or:return"Context.Provider";case an:var r=e.render;return r=r.displayName||r.name||"",e.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case sn:return lt(e.type);case ca:return lt(e.render);case ln:if(e=e._status===1?e._result:null)return lt(e)}return null}var ft=ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;ft.hasOwnProperty("ReactCurrentDispatcher")||(ft.ReactCurrentDispatcher={current:null});ft.hasOwnProperty("ReactCurrentBatchConfig")||(ft.ReactCurrentBatchConfig={suspense:null});var cn={};function mt(e,r){for(var t=e._threadCount|0;t<=r;t++)e[t]=e._currentValue2,e._threadCount=t+1}function fa(e,r,t,a){if(a&&(a=e.contextType,typeof a=="object"&&a!==null))return mt(a,t),a[t];if(e=e.contextTypes){t={};for(var s in e)t[s]=r[s];r=t}else r=cn;return r}for(var de=new Uint16Array(16),xt=0;15>xt;xt++)de[xt]=xt+1;de[15]=0;var ma=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jr=Object.prototype.hasOwnProperty,Br={},$r={};function un(e){return jr.call($r,e)?!0:jr.call(Br,e)?!1:ma.test(e)?$r[e]=!0:(Br[e]=!0,!1)}function ha(e,r,t,a){if(t!==null&&t.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return a?!1:t!==null?!t.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function va(e,r,t,a){if(r===null||typeof r>"u"||ha(e,r,t,a))return!0;if(a)return!1;if(t!==null)switch(t.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function ge(e,r,t,a,s,o){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=a,this.attributeNamespace=s,this.mustUseProperty=t,this.propertyName=e,this.type=r,this.sanitizeURL=o}var ce={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ce[e]=new ge(e,0,!1,e,null,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var r=e[0];ce[r]=new ge(r,1,!1,e[1],null,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ce[e]=new ge(e,2,!1,e.toLowerCase(),null,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ce[e]=new ge(e,2,!1,e,null,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ce[e]=new ge(e,3,!1,e.toLowerCase(),null,!1)});["checked","multiple","muted","selected"].forEach(function(e){ce[e]=new ge(e,3,!0,e,null,!1)});["capture","download"].forEach(function(e){ce[e]=new ge(e,4,!1,e,null,!1)});["cols","rows","size","span"].forEach(function(e){ce[e]=new ge(e,6,!1,e,null,!1)});["rowSpan","start"].forEach(function(e){ce[e]=new ge(e,5,!1,e.toLowerCase(),null,!1)});var mr=/[\-:]([a-z])/g;function hr(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var r=e.replace(mr,hr);ce[r]=new ge(r,1,!1,e,null,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var r=e.replace(mr,hr);ce[r]=new ge(r,1,!1,e,"http://www.w3.org/1999/xlink",!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var r=e.replace(mr,hr);ce[r]=new ge(r,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)});["tabIndex","crossOrigin"].forEach(function(e){ce[e]=new ge(e,1,!1,e.toLowerCase(),null,!1)});ce.xlinkHref=new ge("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0);["src","href","action","formAction"].forEach(function(e){ce[e]=new ge(e,1,!1,e.toLowerCase(),null,!0)});var ga=/["'&<>]/;function qe(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var r=ga.exec(e);if(r){var t="",a,s=0;for(a=r.index;a<e.length;a++){switch(e.charCodeAt(a)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 39:r="&#x27;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}s!==a&&(t+=e.substring(s,a)),s=a+1,t+=r}e=s!==a?t+e.substring(s,a):t}return e}function ya(e,r){var t=ce.hasOwnProperty(e)?ce[e]:null,a;return(a=e!=="style")&&(a=t!==null?t.type===0:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")),a||va(e,r,t,!1)?"":t!==null?(e=t.attributeName,a=t.type,a===3||a===4&&r===!0?e+'=""':(t.sanitizeURL&&(r=""+r),e+'="'+(qe(r)+'"'))):un(e)?e+'="'+(qe(r)+'"'):""}function ba(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var _a=typeof Object.is=="function"?Object.is:ba,Oe=null,Ct=null,q=null,ot=!1,lr=!1,je=null,Tt=0;function tt(){if(Oe===null)throw Error(Z(321));return Oe}function Wr(){if(0<Tt)throw Error(Z(312));return{memoizedState:null,queue:null,next:null}}function cr(){return q===null?Ct===null?(ot=!1,Ct=q=Wr()):(ot=!0,q=Ct):q.next===null?(ot=!1,q=q.next=Wr()):(ot=!0,q=q.next),q}function pn(e,r,t,a){for(;lr;)lr=!1,Tt+=1,q=null,t=e(r,a);return Ct=Oe=null,Tt=0,q=je=null,t}function dn(e,r){return typeof r=="function"?r(e):r}function Gr(e,r,t){if(Oe=tt(),q=cr(),ot){var a=q.queue;if(r=a.dispatch,je!==null&&(t=je.get(a),t!==void 0)){je.delete(a),a=q.memoizedState;do a=e(a,t.action),t=t.next;while(t!==null);return q.memoizedState=a,[a,r]}return[q.memoizedState,r]}return e=e===dn?typeof r=="function"?r():r:t!==void 0?t(r):r,q.memoizedState=e,e=q.queue={last:null,dispatch:null},e=e.dispatch=wa.bind(null,Oe,e),[q.memoizedState,e]}function wa(e,r,t){if(!(25>Tt))throw Error(Z(301));if(e===Oe)if(lr=!0,e={action:t,next:null},je===null&&(je=new Map),t=je.get(r),t===void 0)je.set(r,e);else{for(r=t;r.next!==null;)r=r.next;r.next=e}}function Qt(){}var ct=0,Ea={readContext:function(e){var r=ct;return mt(e,r),e[r]},useContext:function(e){tt();var r=ct;return mt(e,r),e[r]},useMemo:function(e,r){if(Oe=tt(),q=cr(),r=r===void 0?null:r,q!==null){var t=q.memoizedState;if(t!==null&&r!==null){e:{var a=t[1];if(a===null)a=!1;else{for(var s=0;s<a.length&&s<r.length;s++)if(!_a(r[s],a[s])){a=!1;break e}a=!0}}if(a)return t[0]}}return e=e(),q.memoizedState=[e,r],e},useReducer:Gr,useRef:function(e){Oe=tt(),q=cr();var r=q.memoizedState;return r===null?(e={current:e},q.memoizedState=e):r},useState:function(e){return Gr(dn,e)},useLayoutEffect:function(){},useCallback:function(e){return e},useImperativeHandle:Qt,useEffect:Qt,useDebugValue:Qt,useResponder:function(e,r){return{props:r,responder:e}},useDeferredValue:function(e){return tt(),e},useTransition:function(){return tt(),[function(e){e()},!1]}},Na={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function xa(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}var fn={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},Sa=Ce({menuitem:!0},fn),ut={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ca=["Webkit","ms","Moz","O"];Object.keys(ut).forEach(function(e){Ca.forEach(function(r){r=r+e.charAt(0).toUpperCase()+e.substring(1),ut[r]=ut[e]})});var Ta=/([A-Z])/g,ka=/^ms-/,He=ze.Children.toArray,er=ft.ReactCurrentDispatcher,Aa={listing:!0,pre:!0,textarea:!0},La=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,Vr={},tr={};function Ra(e){if(e==null)return e;var r="";return ze.Children.forEach(e,function(t){t!=null&&(r+=t)}),r}var Oa=Object.prototype.hasOwnProperty,Pa={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null,suppressHydrationWarning:null};function qr(e,r){if(e===void 0)throw Error(Z(152,lt(r)||"Component"))}function Da(e,r,t){function a(u,l){var i=l.prototype&&l.prototype.isReactComponent,b=fa(l,r,t,i),c=[],N=!1,w={isMounted:function(){return!1},enqueueForceUpdate:function(){if(c===null)return null},enqueueReplaceState:function(S,$){N=!0,c=[$]},enqueueSetState:function(S,$){if(c===null)return null;c.push($)}};if(i){if(i=new l(u.props,b,w),typeof l.getDerivedStateFromProps=="function"){var L=l.getDerivedStateFromProps.call(null,u.props,i.state);L!=null&&(i.state=Ce({},i.state,L))}}else if(Oe={},i=l(u.props,b,w),i=pn(l,u.props,i,b),i==null||i.render==null){e=i,qr(e,l);return}if(i.props=u.props,i.context=b,i.updater=w,w=i.state,w===void 0&&(i.state=w=null),typeof i.UNSAFE_componentWillMount=="function"||typeof i.componentWillMount=="function")if(typeof i.componentWillMount=="function"&&typeof l.getDerivedStateFromProps!="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&typeof l.getDerivedStateFromProps!="function"&&i.UNSAFE_componentWillMount(),c.length){w=c;var F=N;if(c=null,N=!1,F&&w.length===1)i.state=w[0];else{L=F?w[0]:i.state;var W=!0;for(F=F?1:0;F<w.length;F++){var V=w[F];V=typeof V=="function"?V.call(i,L,u.props,b):V,V!=null&&(W?(W=!1,L=Ce({},L,V)):Ce(L,V))}i.state=L}}else c=null;if(e=i.render(),qr(e,l),typeof i.getChildContext=="function"&&(u=l.childContextTypes,typeof u=="object")){var R=i.getChildContext();for(var A in R)if(!(A in u))throw Error(Z(108,lt(l)||"Unknown",A))}R&&(r=Ce({},r,R))}for(;ze.isValidElement(e);){var s=e,o=s.type;if(typeof o!="function")break;a(s,o)}return{child:e,context:r}}var Yr=function(){function e(t,a){ze.isValidElement(t)?t.type!==ir?t=[t]:(t=t.props.children,t=ze.isValidElement(t)?[t]:He(t)):t=He(t),t={type:null,domNamespace:Na.html,children:t,childIndex:0,context:cn,footer:""};var s=de[0];if(s===0){var o=de;s=o.length;var u=2*s;if(!(65536>=u))throw Error(Z(304));var l=new Uint16Array(u);for(l.set(o),de=l,de[0]=s+1,o=s;o<u-1;o++)de[o]=o+1;de[u-1]=0}else de[0]=de[s];this.threadID=s,this.stack=[t],this.exhausted=!1,this.currentSelectValue=null,this.previousWasTextNode=!1,this.makeStaticMarkup=a,this.suspenseDepth=0,this.contextIndex=-1,this.contextStack=[],this.contextValueStack=[]}var r=e.prototype;return r.destroy=function(){if(!this.exhausted){this.exhausted=!0,this.clearProviders();var t=this.threadID;de[t]=de[0],de[0]=t}},r.pushProvider=function(t){var a=++this.contextIndex,s=t.type._context,o=this.threadID;mt(s,o);var u=s[o];this.contextStack[a]=s,this.contextValueStack[a]=u,s[o]=t.props.value},r.popProvider=function(){var t=this.contextIndex,a=this.contextStack[t],s=this.contextValueStack[t];this.contextStack[t]=null,this.contextValueStack[t]=null,this.contextIndex--,a[this.threadID]=s},r.clearProviders=function(){for(var t=this.contextIndex;0<=t;t--)this.contextStack[t][this.threadID]=this.contextValueStack[t]},r.read=function(t){if(this.exhausted)return null;var a=ct;ct=this.threadID;var s=er.current;er.current=Ea;try{for(var o=[""],u=!1;o[0].length<t;){if(this.stack.length===0){this.exhausted=!0;var l=this.threadID;de[l]=de[0],de[0]=l;break}var i=this.stack[this.stack.length-1];if(u||i.childIndex>=i.children.length){var b=i.footer;if(b!==""&&(this.previousWasTextNode=!1),this.stack.pop(),i.type==="select")this.currentSelectValue=null;else if(i.type!=null&&i.type.type!=null&&i.type.type.$$typeof===or)this.popProvider(i.type);else if(i.type===sr){this.suspenseDepth--;var c=o.pop();if(u){u=!1;var N=i.fallbackFrame;if(!N)throw Error(Z(303));this.stack.push(N),o[this.suspenseDepth]+="<!--$!-->";continue}else o[this.suspenseDepth]+=c}o[this.suspenseDepth]+=b}else{var w=i.children[i.childIndex++],L="";try{L+=this.render(w,i.context,i.domNamespace)}catch(F){throw F!=null&&typeof F.then=="function"?Error(Z(294)):F}finally{}o.length<=this.suspenseDepth&&o.push(""),o[this.suspenseDepth]+=L}}return o[0]}finally{er.current=s,ct=a}},r.render=function(t,a,s){if(typeof t=="string"||typeof t=="number")return s=""+t,s===""?"":this.makeStaticMarkup?qe(s):this.previousWasTextNode?"<!-- -->"+qe(s):(this.previousWasTextNode=!0,qe(s));if(a=Da(t,a,this.threadID),t=a.child,a=a.context,t===null||t===!1)return"";if(!ze.isValidElement(t)){if(t!=null&&t.$$typeof!=null)throw s=t.$$typeof,Error(s===en?Z(257):Z(258,s.toString()));return t=He(t),this.stack.push({type:null,domNamespace:s,children:t,childIndex:0,context:a,footer:""}),""}var o=t.type;if(typeof o=="string")return this.renderDOM(t,a,s);switch(o){case tn:case la:case rn:case on:case ir:return t=He(t.props.children),this.stack.push({type:null,domNamespace:s,children:t,childIndex:0,context:a,footer:""}),"";case sr:throw Error(Z(294))}if(typeof o=="object"&&o!==null)switch(o.$$typeof){case an:Oe={};var u=o.render(t.props,t.ref);return u=pn(o.render,t.props,u,t.ref),u=He(u),this.stack.push({type:null,domNamespace:s,children:u,childIndex:0,context:a,footer:""}),"";case sn:return t=[ze.createElement(o.type,Ce({ref:t.ref},t.props))],this.stack.push({type:null,domNamespace:s,children:t,childIndex:0,context:a,footer:""}),"";case or:return o=He(t.props.children),s={type:t,domNamespace:s,children:o,childIndex:0,context:a,footer:""},this.pushProvider(t),this.stack.push(s),"";case nn:o=t.type,u=t.props;var l=this.threadID;return mt(o,l),o=He(u.children(o[l])),this.stack.push({type:t,domNamespace:s,children:o,childIndex:0,context:a,footer:""}),"";case ua:throw Error(Z(338));case ln:switch(o=t.type,da(o),o._status){case 1:return t=[ze.createElement(o._result,Ce({ref:t.ref},t.props))],this.stack.push({type:null,domNamespace:s,children:t,childIndex:0,context:a,footer:""}),"";case 2:throw o._result;default:throw Error(Z(295))}case pa:throw Error(Z(343))}throw Error(Z(130,o==null?o:typeof o,""))},r.renderDOM=function(t,a,s){var o=t.type.toLowerCase();if(!Vr.hasOwnProperty(o)){if(!La.test(o))throw Error(Z(65,o));Vr[o]=!0}var u=t.props;if(o==="input")u=Ce({type:void 0},u,{defaultChecked:void 0,defaultValue:void 0,value:u.value!=null?u.value:u.defaultValue,checked:u.checked!=null?u.checked:u.defaultChecked});else if(o==="textarea"){var l=u.value;if(l==null){l=u.defaultValue;var i=u.children;if(i!=null){if(l!=null)throw Error(Z(92));if(Array.isArray(i)){if(!(1>=i.length))throw Error(Z(93));i=i[0]}l=""+i}l==null&&(l="")}u=Ce({},u,{value:void 0,children:""+l})}else if(o==="select")this.currentSelectValue=u.value!=null?u.value:u.defaultValue,u=Ce({},u,{value:void 0});else if(o==="option"){i=this.currentSelectValue;var b=Ra(u.children);if(i!=null){var c=u.value!=null?u.value+"":b;if(l=!1,Array.isArray(i)){for(var N=0;N<i.length;N++)if(""+i[N]===c){l=!0;break}}else l=""+i===c;u=Ce({selected:void 0,children:void 0},u,{selected:l,children:b})}}if(l=u){if(Sa[o]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(Z(137,o,""));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(Z(60));if(!(typeof l.dangerouslySetInnerHTML=="object"&&"__html"in l.dangerouslySetInnerHTML))throw Error(Z(61))}if(l.style!=null&&typeof l.style!="object")throw Error(Z(62,""))}l=u,i=this.makeStaticMarkup,b=this.stack.length===1,c="<"+t.type;for(S in l)if(Oa.call(l,S)){var w=l[S];if(w!=null){if(S==="style"){N=void 0;var L="",F="";for(N in w)if(w.hasOwnProperty(N)){var W=N.indexOf("--")===0,V=w[N];if(V!=null){if(W)var R=N;else if(R=N,tr.hasOwnProperty(R))R=tr[R];else{var A=R.replace(Ta,"-$1").toLowerCase().replace(ka,"-ms-");R=tr[R]=A}L+=F+R+":",F=N,W=V==null||typeof V=="boolean"||V===""?"":W||typeof V!="number"||V===0||ut.hasOwnProperty(F)&&ut[F]?(""+V).trim():V+"px",L+=W,F=";"}}w=L||null}N=null;e:if(W=o,V=l,W.indexOf("-")===-1)W=typeof V.is=="string";else switch(W){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":W=!1;break e;default:W=!0}W?Pa.hasOwnProperty(S)||(N=S,N=un(N)&&w!=null?N+'="'+(qe(w)+'"'):""):N=ya(S,w),N&&(c+=" "+N)}}i||b&&(c+=' data-reactroot=""');var S=c;l="",fn.hasOwnProperty(o)?S+="/>":(S+=">",l="</"+t.type+">");e:{if(i=u.dangerouslySetInnerHTML,i!=null){if(i.__html!=null){i=i.__html;break e}}else if(i=u.children,typeof i=="string"||typeof i=="number"){i=qe(i);break e}i=null}return i!=null?(u=[],Aa.hasOwnProperty(o)&&i.charAt(0)===`
`&&(S+=`
`),S+=i):u=He(u.children),t=t.type,s=s==null||s==="http://www.w3.org/1999/xhtml"?xa(t):s==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":s,this.stack.push({domNamespace:s,type:o,children:u,childIndex:0,context:a,footer:l}),this.previousWasTextNode=!1,S},e}(),Zr={renderToString:function(e){e=new Yr(e,!1);try{return e.read(1/0)}finally{e.destroy()}},renderToStaticMarkup:function(e){e=new Yr(e,!0);try{return e.read(1/0)}finally{e.destroy()}},renderToNodeStream:function(){throw Error(Z(207))},renderToStaticNodeStream:function(){throw Error(Z(208))},version:"16.14.0"},Ia=Zr.default||Zr;(function(e){e.exports=Ia})(sa);var kt={},Ma={get exports(){return kt},set exports(e){kt=e}};(function(e,r){Object.defineProperty(r,"__esModule",{value:!0});var t=function(){function A(S,$){var H=[],I=!0,z=!1,fe=void 0;try{for(var X=S[Symbol.iterator](),Te;!(I=(Te=X.next()).done)&&(H.push(Te.value),!($&&H.length===$));I=!0);}catch(Be){z=!0,fe=Be}finally{try{!I&&X.return&&X.return()}finally{if(z)throw fe}}return H}return function(S,$){if(Array.isArray(S))return S;if(Symbol.iterator in Object(S))return A(S,$);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();r.default=R;function a(A,S,$){return S in A?Object.defineProperty(A,S,{value:$,enumerable:!0,configurable:!0,writable:!0}):A[S]=$,A}var s="<!--",o="-->",u=[["&","&amp;"],[">","&gt;"]],l="hypernova-key",i="hypernova-id";function b(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(A){return(A^Math.random()*16>>A/4).toString(16)})}function c(A){return u.reduce(function(S,$){var H=t($,2),I=H[0],z=H[1];return S.replace(new RegExp(I,"g"),z)},JSON.stringify(A))}function N(A){var S=u.reduceRight(function($,H){var I=t(H,2),z=I[0],fe=I[1];return $.replace(new RegExp(fe,"g"),z)},A);return JSON.parse(S)}function w(A,S){var $=A.toLowerCase().replace(/[^0-9a-z_-]/g,""),H=S.replace(/&/g,"&amp;").replace(/"/g,"&quot;");return"data-"+String($)+'="'+String(H)+'"'}function L(A,S){var $=Object.keys(A).map(function(H){return w(H,A[H])});return'<script type="application/json" '+String($.join(" "))+">"+s+String(c(S))+o+"<\/script>"}function F(A){var S=Object.keys(A).map(function(I){return"["+String(w(I,A[I]))+"]"}).join(""),$=document.querySelector("script"+String(S));if(!$)return null;var H=$.innerHTML;return N(H.slice(s.length,H.length-o.length))}function W(A,S,$){var H,I=A.replace(/\W/g,""),z=b(),fe="<div data-"+l+'="'+String(I)+'" data-'+i+'="'+String(z)+'">'+String(S)+"</div>",X=L((H={},a(H,l,I),a(H,i,z),H),$);return fe+`
`+String(X)}function V(A){var S=A.replace(/\W/g,""),$=document.querySelectorAll("div[data-"+l+'="'+String(S)+'"]');return Array.prototype.map.call($,function(H){var I,z=H.getAttribute("data-"+i),fe=F((I={},a(I,l,S),a(I,i,z),I));return{node:H,data:fe}})}function R(A){return typeof window>"u"?A.server():A.client()}R.toScript=L,R.fromScript=F,R.serialize=W,R.load=V,e.exports=r.default})(Ma,kt);var vr;Object.defineProperty(dt,"__esModule",{value:!0});dt.renderReactStatic=vr=dt.renderReact=void 0;var Fa=ee,ur=Lt(Fa),za=ea,rr=Lt(za),Ua=ar,mn=Lt(Ua),pr=kt,hn=Lt(pr);function Lt(e){return e&&e.__esModule?e:{default:e}}vr=dt.renderReact=function(r,t){return(0,hn.default)({server:function(){function a(){return function(s){var o=mn.default.renderToString(ur.default.createElement(t,s));return(0,pr.serialize)(r,o,s)}}return a}(),client:function(){function a(){var s=(0,pr.load)(r);return s&&s.forEach(function(o){var u=o.node,l=o.data,i=ur.default.createElement(t,l);rr.default.hydrate?rr.default.hydrate(i,u):rr.default.render(i,u)}),t}return a}()})};dt.renderReactStatic=function(r,t){return(0,hn.default)({server:function(){function a(){return function(s){return mn.default.renderToStaticMarkup(ur.default.createElement(t,s))}}return a}(),client:function(){function a(){}return a}()})};const nr=e=>r=>vr(e,r);var dr={},Ha={get exports(){return dr},set exports(e){dr=e}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var r={}.hasOwnProperty;function t(){for(var a=[],s=0;s<arguments.length;s++){var o=arguments[s];if(o){var u=typeof o;if(u==="string"||u==="number")a.push(o);else if(Array.isArray(o)){if(o.length){var l=t.apply(null,o);l&&a.push(l)}}else if(u==="object"){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){a.push(o.toString());continue}for(var i in o)r.call(o,i)&&o[i]&&a.push(i)}}}return a.join(" ")}e.exports?(t.default=t,e.exports=t):window.classNames=t})()})(Ha);const st=dr,vn=e=>{const{card:r,title:t,items:a}=e,s=St()?location.pathname:"",o=Object.values(a).map(([N,w])=>m("li",{children:m("a",{href:N,className:s===N?"active":"",children:w})})),[u,l]=ee.useState(!1),i=ee.useRef(null),b=ee.useRef(null),c=()=>{window.scrollY>80?l(!0):l(!1)};return pt(()=>(window.addEventListener("scroll",c),()=>window.removeEventListener("scroll",c))),pt(()=>{const N=i.current,w=b.current,L=()=>{N.style.transform!=="translateX(0%)"?(N.style.transform="translateX(0%)",N.style.transition="transform 0.2s ease-out"):(N.style.transform="translateX(-100%)",N.style.transition="transform 0.2s ease-out"),w.className!=="menuIcon toggle"?w.className+=" toggle":w.className="menuIcon"};return w.addEventListener("click",L),()=>{w.removeEventListener("click",L)}},[]),O("div",{className:st("nav",{short:u}),children:[O("div",{className:"nav-wrapper",children:[O("div",{className:"nav-wrapper-left",children:[r?O("a",{className:st("nav-card",{show:!u}),href:r.url,children:[m("img",{className:"nav-card-target",src:r.icon&&"/media/"+r.icon||"/static/img/logo_blue.png"}),O("div",{className:"nav-card-title",children:[r.name,m("div",{className:"nav-card-subtitle",children:"去看看"})]}),"  "]}):m("a",{className:"logo",href:"/",children:m("img",{src:"/static/img/logo_blue.png",alt:"neogrp"})}),O("div",{className:st("title",{show:u}),onClick:()=>{window.scrollTo(0,0)},children:[r&&m("div",{className:st("up",{show:r})}),O("div",{className:"text",children:[t," "]})]})]}),m("ul",{id:"menu",children:o})]}),St()&&O("div",{className:"menuIcon",ref:b,children:[m("span",{className:"icon icon-bars"}),m("span",{className:"icon icon-bars overlay"})]}),St()&&m("div",{className:"overlay-menu",ref:i,children:m("ul",{id:"menu",children:o})})]})};function gn(e){const{last_join_users:r,operations:t}=e,a=r.map(s=>s.user);return O("div",{className:"sidebar",children:[m("span",{className:"sidebar-title",children:" 最近加入"}),m("div",{className:"latest-join",children:a?a.map(s=>O("a",{href:`/group/profile/${s.mastodon_username}/`,className:"account",children:[m("img",{src:s.mastodon_account.avatar,className:"account-avatar"}),m("div",{className:"account-name",children:s.mastodon_account.display_name})]})):"这里冷清清的"}),t?m("div",{className:"operations",children:t.map(s=>O("a",{className:"operation",href:s[0],children:[" ",s[1]," "]}))}):null]})}function ja(e){const{description:r,icon_url:t,name:a,absolute_url:s}=e;return O("div",{className:"group-card-simple",children:[m("a",{href:s,children:m("img",{className:"group-card-avatar",src:t&&"/media/"+t||"/static/img/logo_blue.png"})}),O("div",{className:"group-card-info",children:[m("div",{className:"group-card-name",children:a}),m("div",{className:"group-card-description p",children:r})]})]})}function Ba(e){const{user:r,title:t,updated_at:a,absolute_url:s,id:o,group:u,created_at:l}=e;return m("div",{className:"topic-card",children:O("div",{className:"topic-card-info",children:[m("a",{href:s,className:"topic-card-title",children:t}),O("span",{className:"topic-card-description",children:["(",r.mastodon_account.username," · ",a,")"]})]})})}function yn(e){const{group:r,last_topics:t}=e;return O("div",{className:"sidebar",children:[m("div",{className:"sidebar-group",children:m(ja,{...r})}),m("span",{className:"sidebar-title",children:"正在发生"}),m("div",{className:"sidebar-topics",children:t?t.map(a=>m(Ba,{...a})):"暂时无事发生，去看看别的组吧"})]})}function $a(e){const[r,t]=ee.useState(e.is_member),{created_at:a,description:s,icon_url:o,id:u,name:l,updated_at:i,user:b,absolute_url:c}=e;return O("div",{className:"group-card",children:[O("div",{className:"group-card-hd",children:[O("div",{className:"group-info",children:[m("a",{className:"group-avatar",href:c,children:m("img",{src:o&&"/media/"+o||"/static/img/logo_blue.png"})}),O("div",{className:"group-base",children:[m("div",{className:"group-name",children:l}),O("div",{className:"group-owner",children:[O("a",{href:b.mastodon_account.url,children:[" ",b.mastodon_account.display_name," "]}),m("br",{}),"创建于：",a.slice(0,10)]})]})]}),m("div",{className:"group-join-button button",onClick:async()=>{const N=r?"leave":"join";N=="leave"&&!window.confirm("确定要退出该小组吗？")||await rt.post(`/group/${u}/${N}`).then(w=>{w.data.r==0?t(!r):alert(w.data.msg||"出错了，请联系管理员")}).catch(w=>{w.response&&w.response.status===403&&alert("请先登录")})},children:r?"已加入":"加入"})]}),O("div",{className:"group-card-bd",children:[m("span",{children:"简介"}),m("div",{className:"group-description p",children:s})]})]})}var fr={},Wa={get exports(){return fr},set exports(e){fr=e}};(function(e,r){(function(t,a){e.exports=a(ee)})(Jr,t=>(()=>{var a={703:(l,i,b)=>{var c=b(414);function N(){}function w(){}w.resetWarningCache=N,l.exports=function(){function L(V,R,A,S,$,H){if(H!==c){var I=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw I.name="Invariant Violation",I}}function F(){return L}L.isRequired=L;var W={array:L,bigint:L,bool:L,func:L,number:L,object:L,string:L,symbol:L,any:L,arrayOf:F,element:L,elementType:L,instanceOf:F,node:L,objectOf:F,oneOf:F,oneOfType:F,shape:F,exact:F,checkPropTypes:w,resetWarningCache:N};return W.PropTypes=W,W}},697:(l,i,b)=>{l.exports=b(703)()},414:l=>{l.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},98:l=>{l.exports=t}},s={};function o(l){var i=s[l];if(i!==void 0)return i.exports;var b=s[l]={exports:{}};return a[l](b,b.exports,o),b.exports}o.n=l=>{var i=l&&l.__esModule?()=>l.default:()=>l;return o.d(i,{a:i}),i},o.d=(l,i)=>{for(var b in i)o.o(i,b)&&!o.o(l,b)&&Object.defineProperty(l,b,{enumerable:!0,get:i[b]})},o.o=(l,i)=>Object.prototype.hasOwnProperty.call(l,i),o.r=l=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})};var u={};return(()=>{o.r(u),o.d(u,{default:()=>Be});var l=o(98),i=o.n(l),b=o(697),c=o.n(b);function N(){return N=Object.assign?Object.assign.bind():function(E){for(var T=1;T<arguments.length;T++){var M=arguments[T];for(var U in M)Object.prototype.hasOwnProperty.call(M,U)&&(E[U]=M[U])}return E},N.apply(this,arguments)}var w=function(E){var T=E.pageClassName,M=E.pageLinkClassName,U=E.page,we=E.selected,Ue=E.activeClassName,K=E.activeLinkClassName,_=E.getEventListener,p=E.pageSelectedHandler,P=E.href,x=E.extraAriaContext,C=E.pageLabelBuilder,j=E.rel,y=E.ariaLabel||"Page "+U+(x?" "+x:""),J=null;return we&&(J="page",y=E.ariaLabel||"Page "+U+" is your current page",T=T!==void 0?T+" "+Ue:Ue,M!==void 0?K!==void 0&&(M=M+" "+K):M=K),i().createElement("li",{className:T},i().createElement("a",N({rel:j,role:P?void 0:"button",className:M,href:P,tabIndex:we?"-1":"0","aria-label":y,"aria-current":J,onKeyPress:p},_(p)),C(U)))};w.propTypes={pageSelectedHandler:c().func.isRequired,selected:c().bool.isRequired,pageClassName:c().string,pageLinkClassName:c().string,activeClassName:c().string,activeLinkClassName:c().string,extraAriaContext:c().string,href:c().string,ariaLabel:c().string,page:c().number.isRequired,getEventListener:c().func.isRequired,pageLabelBuilder:c().func.isRequired,rel:c().string};const L=w;function F(){return F=Object.assign?Object.assign.bind():function(E){for(var T=1;T<arguments.length;T++){var M=arguments[T];for(var U in M)Object.prototype.hasOwnProperty.call(M,U)&&(E[U]=M[U])}return E},F.apply(this,arguments)}var W=function(E){var T=E.breakLabel,M=E.breakClassName,U=E.breakLinkClassName,we=E.breakHandler,Ue=E.getEventListener,K=M||"break";return i().createElement("li",{className:K},i().createElement("a",F({className:U,role:"button",tabIndex:"0",onKeyPress:we},Ue(we)),T))};W.propTypes={breakLabel:c().oneOfType([c().string,c().node]),breakClassName:c().string,breakLinkClassName:c().string,breakHandler:c().func.isRequired,getEventListener:c().func.isRequired};const V=W;function R(E){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return E??T}function A(E){return A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},A(E)}function S(){return S=Object.assign?Object.assign.bind():function(E){for(var T=1;T<arguments.length;T++){var M=arguments[T];for(var U in M)Object.prototype.hasOwnProperty.call(M,U)&&(E[U]=M[U])}return E},S.apply(this,arguments)}function $(E,T){for(var M=0;M<T.length;M++){var U=T[M];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(E,U.key,U)}}function H(E,T){return H=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(M,U){return M.__proto__=U,M},H(E,T)}function I(E,T){if(T&&(A(T)==="object"||typeof T=="function"))return T;if(T!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z(E)}function z(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}function fe(E){return fe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(T){return T.__proto__||Object.getPrototypeOf(T)},fe(E)}function X(E,T,M){return T in E?Object.defineProperty(E,T,{value:M,enumerable:!0,configurable:!0,writable:!0}):E[T]=M,E}var Te=function(E){(function(_,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(p&&p.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),Object.defineProperty(_,"prototype",{writable:!1}),p&&H(_,p)})(K,E);var T,M,U,we,Ue=(U=K,we=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var _,p=fe(U);if(we){var P=fe(this).constructor;_=Reflect.construct(p,arguments,P)}else _=p.apply(this,arguments);return I(this,_)});function K(_){var p,P;return function(x,C){if(!(x instanceof C))throw new TypeError("Cannot call a class as a function")}(this,K),X(z(p=Ue.call(this,_)),"handlePreviousPage",function(x){var C=p.state.selected;p.handleClick(x,null,C>0?C-1:void 0,{isPrevious:!0})}),X(z(p),"handleNextPage",function(x){var C=p.state.selected,j=p.props.pageCount;p.handleClick(x,null,C<j-1?C+1:void 0,{isNext:!0})}),X(z(p),"handlePageSelected",function(x,C){if(p.state.selected===x)return p.callActiveCallback(x),void p.handleClick(C,null,void 0,{isActive:!0});p.handleClick(C,null,x)}),X(z(p),"handlePageChange",function(x){p.state.selected!==x&&(p.setState({selected:x}),p.callCallback(x))}),X(z(p),"getEventListener",function(x){return X({},p.props.eventListener,x)}),X(z(p),"handleClick",function(x,C,j){var y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},J=y.isPrevious,me=J!==void 0&&J,Pe=y.isNext,De=Pe!==void 0&&Pe,ue=y.isBreak,Ie=ue!==void 0&&ue,be=y.isActive,ke=be!==void 0&&be;x.preventDefault?x.preventDefault():x.returnValue=!1;var te=p.state.selected,xe=p.props.onClick,he=j;if(xe){var Y=xe({index:C,selected:te,nextSelectedPage:j,event:x,isPrevious:me,isNext:De,isBreak:Ie,isActive:ke});if(Y===!1)return;Number.isInteger(Y)&&(he=Y)}he!==void 0&&p.handlePageChange(he)}),X(z(p),"handleBreakClick",function(x,C){var j=p.state.selected;p.handleClick(C,x,j<x?p.getForwardJump():p.getBackwardJump(),{isBreak:!0})}),X(z(p),"callCallback",function(x){p.props.onPageChange!==void 0&&typeof p.props.onPageChange=="function"&&p.props.onPageChange({selected:x})}),X(z(p),"callActiveCallback",function(x){p.props.onPageActive!==void 0&&typeof p.props.onPageActive=="function"&&p.props.onPageActive({selected:x})}),X(z(p),"getElementPageRel",function(x){var C=p.state.selected,j=p.props,y=j.nextPageRel,J=j.prevPageRel,me=j.selectedPageRel;return C-1===x?J:C===x?me:C+1===x?y:void 0}),X(z(p),"pagination",function(){var x=[],C=p.props,j=C.pageRangeDisplayed,y=C.pageCount,J=C.marginPagesDisplayed,me=C.breakLabel,Pe=C.breakClassName,De=C.breakLinkClassName,ue=p.state.selected;if(y<=j)for(var Ie=0;Ie<y;Ie++)x.push(p.getPageElement(Ie));else{var be=j/2,ke=j-be;ue>y-j/2?be=j-(ke=y-ue):ue<j/2&&(ke=j-(be=ue));var te,xe,he=function(Ae){return p.getPageElement(Ae)},Y=[];for(te=0;te<y;te++){var Ee=te+1;Ee<=J||Ee>y-J||te>=ue-be&&te<=ue+(ue===0&&j>1?ke-1:ke)?Y.push({type:"page",index:te,display:he(te)}):me&&Y.length>0&&Y[Y.length-1].display!==xe&&(j>0||J>0)&&(xe=i().createElement(V,{key:te,breakLabel:me,breakClassName:Pe,breakLinkClassName:De,breakHandler:p.handleBreakClick.bind(null,te),getEventListener:p.getEventListener}),Y.push({type:"break",index:te,display:xe}))}Y.forEach(function(Ae,Le){var Ye=Ae;Ae.type==="break"&&Y[Le-1]&&Y[Le-1].type==="page"&&Y[Le+1]&&Y[Le+1].type==="page"&&Y[Le+1].index-Y[Le-1].index<=2&&(Ye={type:"page",index:Ae.index,display:he(Ae.index)}),x.push(Ye.display)})}return x}),_.initialPage!==void 0&&_.forcePage!==void 0&&console.warn("(react-paginate): Both initialPage (".concat(_.initialPage,") and forcePage (").concat(_.forcePage,") props are provided, which is discouraged.")+` Use exclusively forcePage prop for a controlled component.
See https://reactjs.org/docs/forms.html#controlled-components`),P=_.initialPage?_.initialPage:_.forcePage?_.forcePage:0,p.state={selected:P},p}return T=K,(M=[{key:"componentDidMount",value:function(){var _=this.props,p=_.initialPage,P=_.disableInitialCallback,x=_.extraAriaContext,C=_.pageCount,j=_.forcePage;p===void 0||P||this.callCallback(p),x&&console.warn("DEPRECATED (react-paginate): The extraAriaContext prop is deprecated. You should now use the ariaLabelBuilder instead."),Number.isInteger(C)||console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(C,"). Did you forget a Math.ceil()?")),p!==void 0&&p>C-1&&console.warn("(react-paginate): The initialPage prop provided is greater than the maximum page index from pageCount prop (".concat(p," > ").concat(C-1,").")),j!==void 0&&j>C-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(j," > ").concat(C-1,")."))}},{key:"componentDidUpdate",value:function(_){this.props.forcePage!==void 0&&this.props.forcePage!==_.forcePage&&(this.props.forcePage>this.props.pageCount-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(this.props.forcePage," > ").concat(this.props.pageCount-1,").")),this.setState({selected:this.props.forcePage})),Number.isInteger(_.pageCount)&&!Number.isInteger(this.props.pageCount)&&console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(this.props.pageCount,"). Did you forget a Math.ceil()?"))}},{key:"getForwardJump",value:function(){var _=this.state.selected,p=this.props,P=p.pageCount,x=_+p.pageRangeDisplayed;return x>=P?P-1:x}},{key:"getBackwardJump",value:function(){var _=this.state.selected-this.props.pageRangeDisplayed;return _<0?0:_}},{key:"getElementHref",value:function(_){var p=this.props,P=p.hrefBuilder,x=p.pageCount,C=p.hrefAllControls;if(P)return C||_>=0&&_<x?P(_+1,x,this.state.selected):void 0}},{key:"ariaLabelBuilder",value:function(_){var p=_===this.state.selected;if(this.props.ariaLabelBuilder&&_>=0&&_<this.props.pageCount){var P=this.props.ariaLabelBuilder(_+1,p);return this.props.extraAriaContext&&!p&&(P=P+" "+this.props.extraAriaContext),P}}},{key:"getPageElement",value:function(_){var p=this.state.selected,P=this.props,x=P.pageClassName,C=P.pageLinkClassName,j=P.activeClassName,y=P.activeLinkClassName,J=P.extraAriaContext,me=P.pageLabelBuilder;return i().createElement(L,{key:_,pageSelectedHandler:this.handlePageSelected.bind(null,_),selected:p===_,rel:this.getElementPageRel(_),pageClassName:x,pageLinkClassName:C,activeClassName:j,activeLinkClassName:y,extraAriaContext:J,href:this.getElementHref(_),ariaLabel:this.ariaLabelBuilder(_),page:_+1,pageLabelBuilder:me,getEventListener:this.getEventListener})}},{key:"render",value:function(){var _=this.props.renderOnZeroPageCount;if(this.props.pageCount===0&&_!==void 0)return _&&_(this.props);var p=this.props,P=p.disabledClassName,x=p.disabledLinkClassName,C=p.pageCount,j=p.className,y=p.containerClassName,J=p.previousLabel,me=p.previousClassName,Pe=p.previousLinkClassName,De=p.previousAriaLabel,ue=p.prevRel,Ie=p.nextLabel,be=p.nextClassName,ke=p.nextLinkClassName,te=p.nextAriaLabel,xe=p.nextRel,he=this.state.selected,Y=he===0,Ee=he===C-1,Ae="".concat(R(me)).concat(Y?" ".concat(R(P)):""),Le="".concat(R(be)).concat(Ee?" ".concat(R(P)):""),Ye="".concat(R(Pe)).concat(Y?" ".concat(R(x)):""),Rt="".concat(R(ke)).concat(Ee?" ".concat(R(x)):""),Ot=Y?"true":"false",Pt=Ee?"true":"false";return i().createElement("ul",{className:j||y,role:"navigation","aria-label":"Pagination"},i().createElement("li",{className:Ae},i().createElement("a",S({className:Ye,href:this.getElementHref(he-1),tabIndex:Y?"-1":"0",role:"button",onKeyPress:this.handlePreviousPage,"aria-disabled":Ot,"aria-label":De,rel:ue},this.getEventListener(this.handlePreviousPage)),J)),this.pagination(),i().createElement("li",{className:Le},i().createElement("a",S({className:Rt,href:this.getElementHref(he+1),tabIndex:Ee?"-1":"0",role:"button",onKeyPress:this.handleNextPage,"aria-disabled":Pt,"aria-label":te,rel:xe},this.getEventListener(this.handleNextPage)),Ie)))}}])&&$(T.prototype,M),Object.defineProperty(T,"prototype",{writable:!1}),K}(l.Component);X(Te,"propTypes",{pageCount:c().number.isRequired,pageRangeDisplayed:c().number,marginPagesDisplayed:c().number,previousLabel:c().node,previousAriaLabel:c().string,prevPageRel:c().string,prevRel:c().string,nextLabel:c().node,nextAriaLabel:c().string,nextPageRel:c().string,nextRel:c().string,breakLabel:c().oneOfType([c().string,c().node]),hrefBuilder:c().func,hrefAllControls:c().bool,onPageChange:c().func,onPageActive:c().func,onClick:c().func,initialPage:c().number,forcePage:c().number,disableInitialCallback:c().bool,containerClassName:c().string,className:c().string,pageClassName:c().string,pageLinkClassName:c().string,pageLabelBuilder:c().func,activeClassName:c().string,activeLinkClassName:c().string,previousClassName:c().string,nextClassName:c().string,previousLinkClassName:c().string,nextLinkClassName:c().string,disabledClassName:c().string,disabledLinkClassName:c().string,breakClassName:c().string,breakLinkClassName:c().string,extraAriaContext:c().string,ariaLabelBuilder:c().func,eventListener:c().string,renderOnZeroPageCount:c().func,selectedPageRel:c().string}),X(Te,"defaultProps",{pageRangeDisplayed:2,marginPagesDisplayed:3,activeClassName:"selected",previousLabel:"Previous",previousClassName:"previous",previousAriaLabel:"Previous page",prevPageRel:"prev",prevRel:"prev",nextLabel:"Next",nextClassName:"next",nextAriaLabel:"Next page",nextPageRel:"next",nextRel:"next",breakLabel:"...",disabledClassName:"disabled",disableInitialCallback:!1,pageLabelBuilder:function(E){return E},eventListener:"onClick",renderOnZeroPageCount:void 0,selectedPageRel:"canonical",hrefAllControls:!1});const Be=Te})(),u})())})(Wa);const Ga=ta(fr);function bn(e){const{total:r,pageSize:t,current:a,onChange:s}=e,o=Array.from(Array(r).keys()),u=Math.ceil(o.length/t),l=i=>s&&s(i.selected+1);return r?m(Ga,{initialPage:a-1,breakLabel:"...",onPageChange:l,pageRangeDisplayed:5,pageCount:u,marginPagesDisplayed:2,nextLabel:"►",previousLabel:"◄",renderOnZeroPageCount:!1,containerClassName:"pagination",subContainerClassName:"pages pagination",activeClassName:"active"}):m(ra,{})}const Va=({number:e})=>{const r=14-e.toString().length*2;return O("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4 2H20C21.1 2 22 2.9 22 4V16C22 17.1 21.1 18 20 18H6L2 22V4C2 2.9 2.9 2 4 2ZM5.17 16H20V4H4V17.17L5.17 16Z",fill:"#6a5c89"}),m("text",{x:"48%",y:"46%","dominant-baseline":"middle","text-anchor":"middle","font-size":r,fill:"#6a5c89",children:e})]})};function _n(e){const{is_member:r,group:t,last_topics:a}=e,[s,o]=ee.useState(a||[]),[u,l]=ee.useState(e.page),i=ee.useRef(!0);pt(()=>{i.current?i.current=!1:(b(),window.history.pushState(null,null,`?page=${u}`))},[u]);const b=async()=>{await rt.get(`/group/${t.id}/topics`,{params:{page:u}}).then(c=>{c.status==200&&(c.data.r===0?(o(c.data.data),window.scroll(0,document.querySelector(".topics").offsetTop-100,{behavior:"smooth"})):alert(c.data.msg))})};return O("div",{className:"group",children:[m($a,{...t,is_member:r}),m("div",{className:"divide"}),O("div",{className:"topics",children:[O("div",{className:"topics-hd",children:[m("div",{className:"topics-hd-label",children:"最近讨论"}),m("a",{className:"topics-hd-add button",href:`/group/${t.id}/new_topic`,children:"发言"})]}),m("table",{children:O("tbody",{children:[O("tr",{children:[m("th",{width:"55%",className:"topic-title",children:"讨论"}),m("th",{width:"25%",children:"作者"}),m("th",{width:"20%",children:"最后回应"})]}),s.map(c=>O("tr",{children:[O("td",{className:"topic-title",children:[m(Va,{number:c.comments_count}),m("a",{href:`/group/topic/${c.id}`,children:c.title})]}),m("td",{className:"topic-author",children:m("a",{href:`/group/profile/${c.user.mastodon_username}/`,children:c.user.mastodon_account.display_name})}),m("td",{className:"topic-time",title:c.updated_at,children:Qr(new Date(c.updated_at),new Date,!0)})]}))]})}),m(bn,{current:u,total:e.total,pageSize:e.page_size,onChange:c=>l(c)})]})]})}var At={},qa={get exports(){return At},set exports(e){At=e}};/*! @license DOMPurify 3.0.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.0/LICENSE */var Xr;function Kr(){return Xr||(Xr=1,function(e,r){(function(t,a){e.exports=a()})(Jr,function(){function t(f){return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},t(f)}function a(f,h){return a=Object.setPrototypeOf||function(D,B){return D.__proto__=B,D},a(f,h)}function s(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function o(f,h,g){return s()?o=Reflect.construct:o=function(B,re,se){var ne=[null];ne.push.apply(ne,re);var ye=Function.bind.apply(B,ne),nt=new ye;return se&&a(nt,se.prototype),nt},o.apply(null,arguments)}function u(f,h){return b(f)||N(f,h)||w(f,h)||W()}function l(f){return i(f)||c(f)||w(f)||F()}function i(f){if(Array.isArray(f))return L(f)}function b(f){if(Array.isArray(f))return f}function c(f){if(typeof Symbol<"u"&&f[Symbol.iterator]!=null||f["@@iterator"]!=null)return Array.from(f)}function N(f,h){var g=f==null?null:typeof Symbol<"u"&&f[Symbol.iterator]||f["@@iterator"];if(g!=null){var D=[],B=!0,re=!1,se,ne;try{for(g=g.call(f);!(B=(se=g.next()).done)&&(D.push(se.value),!(h&&D.length===h));B=!0);}catch(ye){re=!0,ne=ye}finally{try{!B&&g.return!=null&&g.return()}finally{if(re)throw ne}}return D}}function w(f,h){if(f){if(typeof f=="string")return L(f,h);var g=Object.prototype.toString.call(f).slice(8,-1);if(g==="Object"&&f.constructor&&(g=f.constructor.name),g==="Map"||g==="Set")return Array.from(f);if(g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g))return L(f,h)}}function L(f,h){(h==null||h>f.length)&&(h=f.length);for(var g=0,D=new Array(h);g<h;g++)D[g]=f[g];return D}function F(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V(f,h){var g=typeof Symbol<"u"&&f[Symbol.iterator]||f["@@iterator"];if(!g){if(Array.isArray(f)||(g=w(f))||h&&f&&typeof f.length=="number"){g&&(f=g);var D=0,B=function(){};return{s:B,n:function(){return D>=f.length?{done:!0}:{done:!1,value:f[D++]}},e:function(ye){throw ye},f:B}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var re=!0,se=!1,ne;return{s:function(){g=g.call(f)},n:function(){var ye=g.next();return re=ye.done,ye},e:function(ye){se=!0,ne=ye},f:function(){try{!re&&g.return!=null&&g.return()}finally{if(se)throw ne}}}}var R=Object.entries,A=Object.setPrototypeOf,S=Object.isFrozen,$=Object.getPrototypeOf,H=Object.getOwnPropertyDescriptor,I=Object.freeze,z=Object.seal,fe=Object.create,X=typeof Reflect<"u"&&Reflect,Te=X.apply,Be=X.construct;Te||(Te=function(h,g,D){return h.apply(g,D)}),I||(I=function(h){return h}),z||(z=function(h){return h}),Be||(Be=function(h,g){return o(h,l(g))});var E=C(Array.prototype.forEach),T=C(Array.prototype.pop),M=C(Array.prototype.push),U=C(String.prototype.toLowerCase),we=C(String.prototype.toString),Ue=C(String.prototype.match),K=C(String.prototype.replace),_=C(String.prototype.indexOf),p=C(String.prototype.trim),P=C(RegExp.prototype.test),x=j(TypeError);function C(f){return function(h){for(var g=arguments.length,D=new Array(g>1?g-1:0),B=1;B<g;B++)D[B-1]=arguments[B];return Te(f,h,D)}}function j(f){return function(){for(var h=arguments.length,g=new Array(h),D=0;D<h;D++)g[D]=arguments[D];return Be(f,g)}}function y(f,h,g){g=g||U,A&&A(f,null);for(var D=h.length;D--;){var B=h[D];if(typeof B=="string"){var re=g(B);re!==B&&(S(h)||(h[D]=re),B=re)}f[B]=!0}return f}function J(f){var h=fe(null),g=V(R(f)),D;try{for(g.s();!(D=g.n()).done;){var B=u(D.value,2),re=B[0],se=B[1];h[re]=se}}catch(ne){g.e(ne)}finally{g.f()}return h}function me(f,h){for(;f!==null;){var g=H(f,h);if(g){if(g.get)return C(g.get);if(typeof g.value=="function")return C(g.value)}f=$(f)}function D(B){return console.warn("fallback value for",B),null}return D}var Pe=I(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),De=I(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),ue=I(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Ie=I(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),be=I(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),ke=I(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),te=I(["#text"]),xe=I(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),he=I(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Y=I(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ee=I(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Ae=z(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Le=z(/<%[\w\W]*|[\w\W]*%>/gm),Ye=z(/\${[\w\W]*}/gm),Rt=z(/^data-[\-\w.\u00B7-\uFFFF]/),Ot=z(/^aria-[\-\w]+$/),Pt=z(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Sn=z(/^(?:\w+script|data):/i),Cn=z(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Tn=z(/^html$/i),kn=function(){return typeof window>"u"?null:window},An=function(h,g){if(t(h)!=="object"||typeof h.createPolicy!="function")return null;var D=null,B="data-tt-policy-suffix";g.currentScript&&g.currentScript.hasAttribute(B)&&(D=g.currentScript.getAttribute(B));var re="dompurify"+(D?"#"+D:"");try{return h.createPolicy(re,{createHTML:function(ne){return ne},createScriptURL:function(ne){return ne}})}catch{return console.warn("TrustedTypes policy "+re+" could not be created."),null}};function gr(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:kn(),h=function(n){return gr(n)};if(h.version="3.0.0",h.removed=[],!f||!f.document||f.document.nodeType!==9)return h.isSupported=!1,h;var g=f.document,D=f.document,B=f.DocumentFragment,re=f.HTMLTemplateElement,se=f.Node,ne=f.Element,ye=f.NodeFilter,nt=f.NamedNodeMap,Rn=nt===void 0?f.NamedNodeMap||f.MozNamedAttrMap:nt,On=f.HTMLFormElement,Pn=f.DOMParser,ht=f.trustedTypes,vt=ne.prototype,Dn=me(vt,"cloneNode"),In=me(vt,"nextSibling"),Mn=me(vt,"childNodes"),Dt=me(vt,"parentNode");if(typeof re=="function"){var It=D.createElement("template");It.content&&It.content.ownerDocument&&(D=It.content.ownerDocument)}var Se=An(ht,g),yr=Se?Se.createHTML(""):"",gt=D,Mt=gt.implementation,Fn=gt.createNodeIterator,zn=gt.createDocumentFragment,Un=gt.getElementsByTagName,Hn=g.importNode,Re={};h.isSupported=typeof R=="function"&&typeof Dt=="function"&&Mt&&typeof Mt.createHTMLDocument<"u";var Ft=Ae,zt=Le,Ut=Ye,jn=Rt,Bn=Ot,$n=Sn,br=Cn,Ht=Pt,ae=null,_r=y({},[].concat(l(Pe),l(De),l(ue),l(be),l(te))),ie=null,wr=y({},[].concat(l(xe),l(he),l(Y),l(Ee))),Q=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),at=null,jt=null,Er=!0,Bt=!0,Nr=!1,xr=!0,Ze=!1,$e=!1,$t=!1,Wt=!1,Xe=!1,yt=!1,bt=!1,Sr=!0,Cr=!1,Wn="user-content-",Gt=!0,it=!1,Ke={},Je=null,Tr=y({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),kr=null,Ar=y({},["audio","video","img","source","image","track"]),Vt=null,Lr=y({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),_t="http://www.w3.org/1998/Math/MathML",wt="http://www.w3.org/2000/svg",Me="http://www.w3.org/1999/xhtml",Qe=Me,qt=!1,Yt=null,Gn=y({},[_t,wt,Me],we),We,Vn=["application/xhtml+xml","text/html"],qn="text/html",oe,et=null,Yn=D.createElement("form"),Rr=function(n){return n instanceof RegExp||n instanceof Function},Zt=function(n){et&&et===n||((!n||t(n)!=="object")&&(n={}),n=J(n),We=Vn.indexOf(n.PARSER_MEDIA_TYPE)===-1?We=qn:We=n.PARSER_MEDIA_TYPE,oe=We==="application/xhtml+xml"?we:U,ae="ALLOWED_TAGS"in n?y({},n.ALLOWED_TAGS,oe):_r,ie="ALLOWED_ATTR"in n?y({},n.ALLOWED_ATTR,oe):wr,Yt="ALLOWED_NAMESPACES"in n?y({},n.ALLOWED_NAMESPACES,we):Gn,Vt="ADD_URI_SAFE_ATTR"in n?y(J(Lr),n.ADD_URI_SAFE_ATTR,oe):Lr,kr="ADD_DATA_URI_TAGS"in n?y(J(Ar),n.ADD_DATA_URI_TAGS,oe):Ar,Je="FORBID_CONTENTS"in n?y({},n.FORBID_CONTENTS,oe):Tr,at="FORBID_TAGS"in n?y({},n.FORBID_TAGS,oe):{},jt="FORBID_ATTR"in n?y({},n.FORBID_ATTR,oe):{},Ke="USE_PROFILES"in n?n.USE_PROFILES:!1,Er=n.ALLOW_ARIA_ATTR!==!1,Bt=n.ALLOW_DATA_ATTR!==!1,Nr=n.ALLOW_UNKNOWN_PROTOCOLS||!1,xr=n.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Ze=n.SAFE_FOR_TEMPLATES||!1,$e=n.WHOLE_DOCUMENT||!1,Xe=n.RETURN_DOM||!1,yt=n.RETURN_DOM_FRAGMENT||!1,bt=n.RETURN_TRUSTED_TYPE||!1,Wt=n.FORCE_BODY||!1,Sr=n.SANITIZE_DOM!==!1,Cr=n.SANITIZE_NAMED_PROPS||!1,Gt=n.KEEP_CONTENT!==!1,it=n.IN_PLACE||!1,Ht=n.ALLOWED_URI_REGEXP||Ht,Qe=n.NAMESPACE||Me,n.CUSTOM_ELEMENT_HANDLING&&Rr(n.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Q.tagNameCheck=n.CUSTOM_ELEMENT_HANDLING.tagNameCheck),n.CUSTOM_ELEMENT_HANDLING&&Rr(n.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Q.attributeNameCheck=n.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),n.CUSTOM_ELEMENT_HANDLING&&typeof n.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Q.allowCustomizedBuiltInElements=n.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ze&&(Bt=!1),yt&&(Xe=!0),Ke&&(ae=y({},l(te)),ie=[],Ke.html===!0&&(y(ae,Pe),y(ie,xe)),Ke.svg===!0&&(y(ae,De),y(ie,he),y(ie,Ee)),Ke.svgFilters===!0&&(y(ae,ue),y(ie,he),y(ie,Ee)),Ke.mathMl===!0&&(y(ae,be),y(ie,Y),y(ie,Ee))),n.ADD_TAGS&&(ae===_r&&(ae=J(ae)),y(ae,n.ADD_TAGS,oe)),n.ADD_ATTR&&(ie===wr&&(ie=J(ie)),y(ie,n.ADD_ATTR,oe)),n.ADD_URI_SAFE_ATTR&&y(Vt,n.ADD_URI_SAFE_ATTR,oe),n.FORBID_CONTENTS&&(Je===Tr&&(Je=J(Je)),y(Je,n.FORBID_CONTENTS,oe)),Gt&&(ae["#text"]=!0),$e&&y(ae,["html","head","body"]),ae.table&&(y(ae,["tbody"]),delete at.tbody),I&&I(n),et=n)},Or=y({},["mi","mo","mn","ms","mtext"]),Pr=y({},["foreignobject","desc","title","annotation-xml"]),Zn=y({},["title","style","font","a","script"]),Et=y({},De);y(Et,ue),y(Et,Ie);var Xt=y({},be);y(Xt,ke);var Xn=function(n){var d=Dt(n);(!d||!d.tagName)&&(d={namespaceURI:Qe,tagName:"template"});var v=U(n.tagName),G=U(d.tagName);return Yt[n.namespaceURI]?n.namespaceURI===wt?d.namespaceURI===Me?v==="svg":d.namespaceURI===_t?v==="svg"&&(G==="annotation-xml"||Or[G]):Boolean(Et[v]):n.namespaceURI===_t?d.namespaceURI===Me?v==="math":d.namespaceURI===wt?v==="math"&&Pr[G]:Boolean(Xt[v]):n.namespaceURI===Me?d.namespaceURI===wt&&!Pr[G]||d.namespaceURI===_t&&!Or[G]?!1:!Xt[v]&&(Zn[v]||!Et[v]):!!(We==="application/xhtml+xml"&&Yt[n.namespaceURI]):!1},Ge=function(n){M(h.removed,{element:n});try{n.parentNode.removeChild(n)}catch{n.remove()}},Kt=function(n,d){try{M(h.removed,{attribute:d.getAttributeNode(n),from:d})}catch{M(h.removed,{attribute:null,from:d})}if(d.removeAttribute(n),n==="is"&&!ie[n])if(Xe||yt)try{Ge(d)}catch{}else try{d.setAttribute(n,"")}catch{}},Dr=function(n){var d,v;if(Wt)n="<remove></remove>"+n;else{var G=Ue(n,/^[\r\n\t ]+/);v=G&&G[0]}We==="application/xhtml+xml"&&Qe===Me&&(n='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+n+"</body></html>");var le=Se?Se.createHTML(n):n;if(Qe===Me)try{d=new Pn().parseFromString(le,We)}catch{}if(!d||!d.documentElement){d=Mt.createDocument(Qe,"template",null);try{d.documentElement.innerHTML=qt?yr:le}catch{}}var Ne=d.body||d.documentElement;return n&&v&&Ne.insertBefore(D.createTextNode(v),Ne.childNodes[0]||null),Qe===Me?Un.call(d,$e?"html":"body")[0]:$e?d.documentElement:Ne},Ir=function(n){return Fn.call(n.ownerDocument||n,n,ye.SHOW_ELEMENT|ye.SHOW_COMMENT|ye.SHOW_TEXT,null,!1)},Kn=function(n){return n instanceof On&&(typeof n.nodeName!="string"||typeof n.textContent!="string"||typeof n.removeChild!="function"||!(n.attributes instanceof Rn)||typeof n.removeAttribute!="function"||typeof n.setAttribute!="function"||typeof n.namespaceURI!="string"||typeof n.insertBefore!="function"||typeof n.hasChildNodes!="function")},Nt=function(n){return t(se)==="object"?n instanceof se:n&&t(n)==="object"&&typeof n.nodeType=="number"&&typeof n.nodeName=="string"},Fe=function(n,d,v){Re[n]&&E(Re[n],function(G){G.call(h,d,v,et)})},Mr=function(n){var d;if(Fe("beforeSanitizeElements",n,null),Kn(n))return Ge(n),!0;var v=oe(n.nodeName);if(Fe("uponSanitizeElement",n,{tagName:v,allowedTags:ae}),n.hasChildNodes()&&!Nt(n.firstElementChild)&&(!Nt(n.content)||!Nt(n.content.firstElementChild))&&P(/<[/\w]/g,n.innerHTML)&&P(/<[/\w]/g,n.textContent))return Ge(n),!0;if(!ae[v]||at[v]){if(!at[v]&&zr(v)&&(Q.tagNameCheck instanceof RegExp&&P(Q.tagNameCheck,v)||Q.tagNameCheck instanceof Function&&Q.tagNameCheck(v)))return!1;if(Gt&&!Je[v]){var G=Dt(n)||n.parentNode,le=Mn(n)||n.childNodes;if(le&&G)for(var Ne=le.length,pe=Ne-1;pe>=0;--pe)G.insertBefore(Dn(le[pe],!0),In(n))}return Ge(n),!0}return n instanceof ne&&!Xn(n)||(v==="noscript"||v==="noembed")&&P(/<\/no(script|embed)/i,n.innerHTML)?(Ge(n),!0):(Ze&&n.nodeType===3&&(d=n.textContent,d=K(d,Ft," "),d=K(d,zt," "),d=K(d,Ut," "),n.textContent!==d&&(M(h.removed,{element:n.cloneNode()}),n.textContent=d)),Fe("afterSanitizeElements",n,null),!1)},Fr=function(n,d,v){if(Sr&&(d==="id"||d==="name")&&(v in D||v in Yn))return!1;if(!(Bt&&!jt[d]&&P(jn,d))){if(!(Er&&P(Bn,d))){if(!ie[d]||jt[d]){if(!(zr(n)&&(Q.tagNameCheck instanceof RegExp&&P(Q.tagNameCheck,n)||Q.tagNameCheck instanceof Function&&Q.tagNameCheck(n))&&(Q.attributeNameCheck instanceof RegExp&&P(Q.attributeNameCheck,d)||Q.attributeNameCheck instanceof Function&&Q.attributeNameCheck(d))||d==="is"&&Q.allowCustomizedBuiltInElements&&(Q.tagNameCheck instanceof RegExp&&P(Q.tagNameCheck,v)||Q.tagNameCheck instanceof Function&&Q.tagNameCheck(v))))return!1}else if(!Vt[d]){if(!P(Ht,K(v,br,""))){if(!((d==="src"||d==="xlink:href"||d==="href")&&n!=="script"&&_(v,"data:")===0&&kr[n])){if(!(Nr&&!P($n,K(v,br,"")))){if(v)return!1}}}}}}return!0},zr=function(n){return n.indexOf("-")>0},Ur=function(n){var d,v,G,le;Fe("beforeSanitizeAttributes",n,null);var Ne=n.attributes;if(Ne){var pe={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ie};for(le=Ne.length;le--;){d=Ne[le];var _e=d,Ve=_e.name,Jt=_e.namespaceURI;if(v=Ve==="value"?d.value:p(d.value),G=oe(Ve),pe.attrName=G,pe.attrValue=v,pe.keepAttr=!0,pe.forceKeepAttr=void 0,Fe("uponSanitizeAttribute",n,pe),v=pe.attrValue,!pe.forceKeepAttr&&(Kt(Ve,n),!!pe.keepAttr)){if(!xr&&P(/\/>/i,v)){Kt(Ve,n);continue}Ze&&(v=K(v,Ft," "),v=K(v,zt," "),v=K(v,Ut," "));var Hr=oe(n.nodeName);if(Fr(Hr,G,v)){if(Cr&&(G==="id"||G==="name")&&(Kt(Ve,n),v=Wn+v),Se&&t(ht)==="object"&&typeof ht.getAttributeType=="function"&&!Jt)switch(ht.getAttributeType(Hr,G)){case"TrustedHTML":v=Se.createHTML(v);break;case"TrustedScriptURL":v=Se.createScriptURL(v);break}try{Jt?n.setAttributeNS(Jt,Ve,v):n.setAttribute(Ve,v),T(h.removed)}catch{}}}}Fe("afterSanitizeAttributes",n,null)}},Jn=function k(n){var d,v=Ir(n);for(Fe("beforeSanitizeShadowDOM",n,null);d=v.nextNode();)Fe("uponSanitizeShadowNode",d,null),!Mr(d)&&(d.content instanceof B&&k(d.content),Ur(d));Fe("afterSanitizeShadowDOM",n,null)};return h.sanitize=function(k){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d,v,G,le;if(qt=!k,qt&&(k="<!-->"),typeof k!="string"&&!Nt(k)){if(typeof k.toString!="function")throw x("toString is not a function");if(k=k.toString(),typeof k!="string")throw x("dirty is not a string, aborting")}if(!h.isSupported)return k;if($t||Zt(n),h.removed=[],typeof k=="string"&&(it=!1),it){if(k.nodeName){var Ne=oe(k.nodeName);if(!ae[Ne]||at[Ne])throw x("root node is forbidden and cannot be sanitized in-place")}}else if(k instanceof se)d=Dr("<!---->"),v=d.ownerDocument.importNode(k,!0),v.nodeType===1&&v.nodeName==="BODY"||v.nodeName==="HTML"?d=v:d.appendChild(v);else{if(!Xe&&!Ze&&!$e&&k.indexOf("<")===-1)return Se&&bt?Se.createHTML(k):k;if(d=Dr(k),!d)return Xe?null:bt?yr:""}d&&Wt&&Ge(d.firstChild);for(var pe=Ir(it?k:d);G=pe.nextNode();)Mr(G)||(G.content instanceof B&&Jn(G.content),Ur(G));if(it)return k;if(Xe){if(yt)for(le=zn.call(d.ownerDocument);d.firstChild;)le.appendChild(d.firstChild);else le=d;return(ie.shadowroot||ie.shadowrootmod)&&(le=Hn.call(g,le,!0)),le}var _e=$e?d.outerHTML:d.innerHTML;return $e&&ae["!doctype"]&&d.ownerDocument&&d.ownerDocument.doctype&&d.ownerDocument.doctype.name&&P(Tn,d.ownerDocument.doctype.name)&&(_e="<!DOCTYPE "+d.ownerDocument.doctype.name+`>
`+_e),Ze&&(_e=K(_e,Ft," "),_e=K(_e,zt," "),_e=K(_e,Ut," ")),Se&&bt?Se.createHTML(_e):_e},h.setConfig=function(k){Zt(k),$t=!0},h.clearConfig=function(){et=null,$t=!1},h.isValidAttribute=function(k,n,d){et||Zt({});var v=oe(k),G=oe(n);return Fr(v,G,d)},h.addHook=function(k,n){typeof n=="function"&&(Re[k]=Re[k]||[],M(Re[k],n))},h.removeHook=function(k){if(Re[k])return T(Re[k])},h.removeHooks=function(k){Re[k]&&(Re[k]=[])},h.removeAllHooks=function(){Re={}},h}var Ln=gr();return Ln})}(qa)),At}var wn=window.DOMPurify||(window.DOMPurify=Kr().default||Kr());function En(e){const{mastodon_username:r,mastodon_account:t,authored_at:a,showNote:s=!1}=e,{display_name:o,avatar:u,note:l,url:i}=t;return O("div",{className:"author",children:[m("div",{className:st("left-side",{center:s}),children:m("a",{href:`/group/profile/${r}/`,className:"topic-author",children:m("img",{alt:r,className:"avatar",src:u})})}),O("div",{className:"right-side",children:[O("div",{className:"topic-user",alt:r,children:[O("div",{className:"topic-user-username",children:[O("span",{className:"display-name",children:[" ",o," "]}),m("a",{className:"mastodon-account",href:`/group/profile/${r}/`,children:r})]}),s&&l&&m("div",{className:"note",dangerouslySetInnerHTML:{__html:wn.sanitize(l)}})]}),m("div",{className:"authored-at",title:a,children:Qr(new Date(a),new Date)})]})]})}const Ya=e=>m("svg",{...e,width:"24px",height:"24px",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",className:"icon",children:m("path",{d:"M885.9 533.7c16.8-22.2 26.1-49.4 26.1-77.7 0-44.9-25.1-87.4-65.5-111.1a67.67 67.67 0 0 0-34.3-9.3H572.4l6-122.9c1.4-29.7-9.1-57.9-29.5-79.4A106.62 106.62 0 0 0 471 99.9c-52 0-98 35-111.8 85.1l-85.9 311h-.3v428h472.3c9.2 0 18.2-1.8 26.5-5.4 47.6-20.3 78.3-66.8 78.3-118.4 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7-.2-12.6-2-25.1-5.6-37.1zM112 528v364c0 17.7 14.3 32 32 32h65V496h-65c-17.7 0-32 14.3-32 32z"})});function Za(e){const{targetId:r,liked:t,likeCount:a,onClick:s}=e,[o,u]=ee.useState({liked:t,likeCount:a}),l=async()=>{await rt.post(`/group/comment/${r}/like`,{}).then(b=>{if(b.status==200&&b.data&&b.data.r===0){let c=Boolean(b.data.data);u(N=>({liked:c,likeCount:N.likeCount+(c?1:-1)}))}else alert(b.data.msg)}).catch(b=>{b.response&&b.response.status===403&&alert("请先登录")})},i=()=>{l(),s&&s()};return O("div",{className:"like"+(o.liked?" liked":""),children:[m(Ya,{onClick:i}),m("span",{className:"like-count",children:o.likeCount})]})}function Nn(e){const{comment:r,onRemove:t}=e;return O("div",{className:"comment-quote",children:[m("div",{className:"comment-quote-content",children:r.content}),m("div",{className:"comment-quote-author",children:r.user&&r.user.username})]})}const Xa=e=>m("svg",{...e,width:"24px",height:"24px",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",className:"bi bi-reply-fill",children:m("path",{d:"M5.921 11.9 1.353 8.62a.719.719 0 0 1 0-1.238L5.921 4.1A.716.716 0 0 1 7 4.719V6c1.5 0 6 0 7 8-2.5-4.5-7-4-7-4v1.281c0 .56-.606.898-1.079.62z"})});function Ka(e){const{id:r,user:t,created_at:a,content:s,liked:o,like_count:u,onReply:l,comment_reply:i,is_owner:b}=e,c=async()=>{await rt.post(`/group/comment/${r}/delete`).then(w=>{w.status==200&&w.data&&w.data.r===0?document.getElementById(`comment-${r}`).remove():w.status!=200?alert("出错了，请联系管理员"):alert(w.data.msg)})},N=()=>{confirm("确定要删除这条评论吗？")&&c()};return O("div",{className:"comment",id:`comment-${r}`,children:[m(En,{...t,authored_at:a}),O("div",{className:"comment-content",children:[i&&m(Nn,{comment:i}),m("div",{className:"comment-text p",children:s})]}),O("div",{className:"comment-action",children:[m(Za,{targetId:r,liked:o,likeCount:u}),m("div",{className:"reply",onClick:()=>l(e),children:m(Xa,{})}),b&&m("div",{className:"delete",onClick:N,children:"删除"})]})]})}const Ja=ee.forwardRef((e,r)=>{const{replyComment:t,topicId:a}=e,[s,o]=ee.useState({sending:!1,share_to_mastodon:!0}),u=async b=>{o({...s,sending:!0}),await rt.post(`/group/topic/${a}/`,b).then(c=>{o({...s,sending:!1}),c.status==200?c.data.r===0?location.reload():alert(c.data.msg):alert("出错啦，请稍后再试或联系管理员")})},l=()=>{let b=r.current&&r.current.querySelector("[contentEditable]").innerText;if(!b){alert("请输入一段文字再提交吧");return}u({id:a,content:b,comment_reply:t==null?void 0:t.id,share_to_mastodon:s.share_to_mastodon})},i=()=>{o({...s,share_to_mastodon:!s.share_to_mastodon})};return O("div",{className:"reply-form",ref:r,children:[t&&m(Nn,{comment:t}),m("div",{className:"reply-content",contentEditable:!0,placeholder:"Neogrp 欢迎文明、友善的交流。"}),O("div",{className:`reply-action${s.sending?" disabled":""}`,disabled:s.sending,children:[m("div",{className:`share-to-mastodon${s.share_to_mastodon?" yes":""}`,onClick:i,children:m(na,{})}),m("div",{className:"submit",onClick:l,children:m(aa,{})})]})]})});function xn(e){const[r,t]=ee.useState(e.comments||[]),[a,s]=ee.useState(null),[o,u]=ee.useState(e.page),{user:l,updated_at:i,id:b,title:c,html_content:N,group:w}=e,L=ee.useRef(null),F=async()=>{await rt.get(`/group/topic/${b}/comments`,{params:{page:o}}).then(R=>{R.status==200&&(R.data.r===0?(t(R.data.data),window.scroll(0,document.querySelector(".comments-wrapper").offsetTop-100,{behavior:"smooth"})):alert(R.data.msg))})},W=ee.useRef(!0);pt(()=>{W.current?W.current=!1:(F(),window.history.pushState(null,null,`?page=${o}`))},[o]),ee.useEffect(()=>{var R;if(a&&L.current){const A=(R=L.current)==null?void 0:R.querySelector("[contenteditable]");A&&A.focus()}},[a]),pt(()=>{const A=new URLSearchParams(window.location.search).get("comment_id");if(A){const S=document.getElementById(`comment-${A}`);S&&(window.scroll(0,S.offsetTop-100,{behavior:"smooth"}),S.classList.add("highlight"),setTimeout(()=>{S.classList.remove("highlight")},600))}},[]);const V=R=>s(R);return O("div",{className:"topic",children:[m("div",{className:"title",children:c}),m(En,{...l,showNote:!0,authored_at:i}),m("div",{className:"topic-content",dangerouslySetInnerHTML:{__html:wn.sanitize(N)}}),m("div",{className:"divide"}),O("div",{className:"comments-wrapper",children:[m("div",{className:"comments",children:r.map((R,A)=>m(Ka,{...R,onReply:V},A))}),m(bn,{current:o,total:e.total,pageSize:e.page_size,onChange:R=>u(R)})]}),m("div",{className:"reply-form-wrapper",children:m(Ja,{ref:L,replyComment:a,topicId:b})})]})}const Qa={Nav:nr("Nav")(vn),Topic:nr("Topic")(xn),TopicSidebar:yn,Group:nr("Group")(_n),GroupSidebar:gn},ei={Nav:vn,Topic:xn,TopicSidebar:yn,Group:_n,GroupSidebar:gn},ti=St()?Qa:ei,ri=Object.freeze(Object.defineProperty({__proto__:null,default:ti},Symbol.toStringTag,{value:"Module"}));window.React=ia;window.ReactDOM=oa;window.C=ri;
